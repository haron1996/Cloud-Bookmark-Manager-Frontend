import{S as Ve,i as Me,s as Pe,e as pe,b as G,B as fe,h as p,F as te,k as A,l as w,m,n,K as F,L as Y,M as x,D as ye,N as ee,a as L,q as Z,c as B,r as X,U as ce,J as h,u as Je,V as Ke,H as ne,I as oe,o as Ps,W as Ks,G as Ze,X as Xe,Y as We,Z as gt,f as W,g as Ce,t as se,d as Fe,w as Ee,x as Ie,y as Ne,z as Se,O as Zs,Q as Xs,R as xs,T as er,j as tr,_ as lr}from"../../../../chunks/index-bb81482e.js";import{b as rl,h as $e,m as dt,i as at,r as hl,j as Jt,k as nl,s as Te,a as De,n as Ae,o as je,q as st,t as rt,f as qt,u as At,v as Pt,l as pl,w as Ot,x as Ht,y as Lt,z as _t,A as mt,B as sr,C as rr,D as kl,p as nr,E as Bt,F as Os,G as or,H as ut,I as Rt,J as ct,K as ir,L as ol,M as il,N as Mt,O as al,P as ar}from"../../../../chunks/stores-1f2c4055.js";import{p as Re}from"../../../../chunks/stores-3a753e22.js";import{h as be}from"../../../../chunks/hideContextMenu-62f14fa2.js";import{g as cr,r as dr,a as ur}from"../../../../chunks/resetSelectedLinks-339e4f4f.js";import{g as he}from"../../../../chunks/breadcrumb.svelte_svelte_type_style_lang-95d43c18.js";import{g as Le,a as Ls}from"../../../../chunks/navigation-ded05271.js";import{a as ft,t as Bs,d as fr,f as gl,e as hr,g as Al,h as pr,b as wl,c as vr}from"../../../../chunks/toggleProfileMenu-add40847.js";let bt;function _r(){rl.subscribe(e=>{bt=e})(),bt=!bt,rl.set(bt)}let yl,Yt;async function cl(){const r=Re.subscribe(s=>{Yt=s.params.folder_id});Yt&&$e.set(await cr(Yt));const e=dt.subscribe(s=>{yl=s});r(),e(),yl?(at.set([]),dt.set(!1)):dt.set(!0)}function Rs(){be(),cl()}function Gt(r){const e=document.getElementById(r);e!==null&&(e.focus(),e.select())}function zs(){hl.set(!0),setTimeout(()=>{Gt("rename_folder_input")},20)}function Js(){Jt.set(!0),setTimeout(()=>{Gt("rename_link_title_input")},20)}let Et;function it(){be(),nl.subscribe(e=>{Et=e})(),Et=!Et,nl.set(Et)}function xe(){Te.set([]),De.set([])}let Wt=[],Kt=[];async function qs(r,e){const s=await fetch("http://localhost:5000/private/folder/restoreFoldersFromTrash",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({folder_ids:r.map(l=>l.folder_id)})}),t=await fetch("http://localhost:5000/private/link/restoreLinksFromTrash",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({link_ids:e.map(l=>l.link_id)})});try{const l=await Promise.all([s,t]),o=await l[0].json(),a=await l[1].json();Wt=o[0],Kt=a[0];for(let u=0;u<Wt.length;u++){const f=Wt[u];Ae.update(_=>_.filter(c=>c.folder_id!==f.folder_id))}for(let u=0;u<Kt.length;u++){const f=Kt[u];je.update(_=>_.filter(c=>c.link_id!==f.link_id))}xe(),be()}catch(l){console.log(l)}}let Zt=[];async function Hs(r){if(r===null)return;const e=await fetch("http://localhost:5000/private/folder/restoreFoldersFromTrash",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({folder_ids:r.map(s=>s.folder_id)})});try{const s=await e.json();if(s[0]!==null){Zt=s[0];for(let t=0;t<Zt.length;t++){const l=Zt[t];Ae.update(o=>o.filter(a=>a.folder_id!==l.folder_id))}}else console.log("result is null");xe(),be()}catch(s){console.log(s),be()}}let Xt=[];async function Gs(r){if(r===null)return;const e=await fetch("http://localhost:5000/private/link/restoreLinksFromTrash",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({link_ids:r.map(s=>s.link_id)})});try{const s=await e.json();if(s[0]!==null){Xt=s[0];for(let t=0;t<Xt.length;t++){const l=Xt[t];je.update(o=>o.filter(a=>a.link_id!==l.link_id))}}else console.log("result is null");be()}catch(s){console.log(s),be()}}function bl(r){let e,s,t;function l(u,f){return u[3].url.pathname==="/appv1/my_links/recycle_bin"?kr:mr}let o=l(r),a=o(r);return{c(){e=A("div"),a.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var f=m(e);a.l(f),f.forEach(p),this.h()},h(){n(e,"class","actions_menu svelte-l15bda")},m(u,f){G(u,e,f),a.m(e,null),s||(t=[F(e,"click",Y(x(Y))),F(e,"keyup",r[7])],s=!0)},p(u,f){o===(o=l(u))&&a?a.p(u,f):(a.d(1),a=o(u),a&&(a.c(),a.m(e,null)))},d(u){u&&p(e),a.d(),s=!1,ye(t)}}}function mr(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y,b,g,E,N;return{c(){e=A("div"),s=A("i"),t=L(),l=A("span"),o=Z("Rename"),a=L(),u=A("div"),f=A("i"),_=L(),c=A("span"),i=Z("Move"),d=L(),v=A("div"),k=A("i"),y=L(),b=A("span"),g=Z("Delete"),this.h()},l(I){e=w(I,"DIV",{class:!0});var T=m(e);s=w(T,"I",{class:!0}),m(s).forEach(p),t=B(T),l=w(T,"SPAN",{class:!0});var S=m(l);o=X(S,"Rename"),S.forEach(p),T.forEach(p),a=B(I),u=w(I,"DIV",{class:!0});var V=m(u);f=w(V,"I",{class:!0}),m(f).forEach(p),_=B(V),c=w(V,"SPAN",{class:!0});var z=m(c);i=X(z,"Move"),z.forEach(p),V.forEach(p),d=B(I),v=w(I,"DIV",{class:!0});var J=m(v);k=w(J,"I",{class:!0}),m(k).forEach(p),y=B(J),b=w(J,"SPAN",{class:!0});var C=m(b);g=X(C,"Delete"),C.forEach(p),J.forEach(p),this.h()},h(){n(s,"class","las la-edit svelte-l15bda"),n(l,"class","svelte-l15bda"),n(e,"class","rename svelte-l15bda"),ce(e,"btn_disabled",r[2].length>1),n(f,"class","las la-expand-arrows-alt svelte-l15bda"),n(c,"class","svelte-l15bda"),n(u,"class","move svelte-l15bda"),n(k,"class","las la-trash svelte-l15bda"),n(b,"class","svelte-l15bda"),n(v,"class","delete svelte-l15bda")},m(I,T){G(I,e,T),h(e,s),h(e,t),h(e,l),h(l,o),G(I,a,T),G(I,u,T),h(u,f),h(u,_),h(u,c),h(c,i),G(I,d,T),G(I,v,T),h(v,k),h(v,y),h(v,b),h(b,g),E||(N=[F(e,"click",Y(x(r[4]))),F(e,"keyup",r[12]),F(u,"click",Y(x(Rs))),F(u,"keyup",r[11]),F(v,"click",Y(x(it))),F(v,"keyup",r[10])],E=!0)},p(I,T){T&4&&ce(e,"btn_disabled",I[2].length>1)},d(I){I&&p(e),I&&p(a),I&&p(u),I&&p(d),I&&p(v),E=!1,ye(N)}}}function kr(r){let e,s,t,l,o,a,u,f,_,c,i,d,v;return{c(){e=A("div"),s=A("i"),t=L(),l=A("span"),o=Z("Restore"),a=L(),u=A("div"),f=A("i"),_=L(),c=A("span"),i=Z("Delete parmanently"),this.h()},l(k){e=w(k,"DIV",{class:!0});var y=m(e);s=w(y,"I",{class:!0}),m(s).forEach(p),t=B(y),l=w(y,"SPAN",{class:!0});var b=m(l);o=X(b,"Restore"),b.forEach(p),y.forEach(p),a=B(k),u=w(k,"DIV",{class:!0});var g=m(u);f=w(g,"I",{class:!0}),m(f).forEach(p),_=B(g),c=w(g,"SPAN",{class:!0});var E=m(c);i=X(E,"Delete parmanently"),E.forEach(p),g.forEach(p),this.h()},h(){n(s,"class","las la-trash-restore svelte-l15bda"),n(l,"class","svelte-l15bda"),n(e,"class","restore svelte-l15bda"),n(f,"class","las la-trash svelte-l15bda"),n(c,"class","svelte-l15bda"),n(u,"class","delete_forever svelte-l15bda")},m(k,y){G(k,e,y),h(e,s),h(e,t),h(e,l),h(l,o),G(k,a,y),G(k,u,y),h(u,f),h(u,_),h(u,c),h(c,i),d||(v=[F(e,"click",Y(x(r[5]))),F(e,"keyup",r[9]),F(u,"click",Y(x(r[6]))),F(u,"keyup",r[8])],d=!0)},p:fe,d(k){k&&p(e),k&&p(a),k&&p(u),d=!1,ye(v)}}}function gr(r){let e,s=(r[1].length>0||r[0].length>0)&&bl(r);return{c(){s&&s.c(),e=pe()},l(t){s&&s.l(t),e=pe()},m(t,l){s&&s.m(t,l),G(t,e,l)},p(t,[l]){t[1].length>0||t[0].length>0?s?s.p(t,l):(s=bl(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:fe,o:fe,d(t){s&&s.d(t),t&&p(e)}}}function Ar(r,e,s){let t,l,o,a;te(r,De,b=>s(0,l=b)),te(r,Te,b=>s(1,o=b)),te(r,Re,b=>s(3,a=b));function u(){o.length===1&&l.length===0?zs():o.length===0&&l.length===1&&Js()}async function f(){console.log(o,l),o&&l&&o.length>0&&l.length>0?(console.log("restore links and folders"),await qs(o,l)):o&&o.length>0&&l&&l.length<1?(console.log("restore folders"),await Hs(o)):o&&l&&o.length<1&&l.length>0&&(console.log("restore links"),await Gs(l))}async function _(){console.log(o,l),o&&l&&o.length>0&&l.length>0?console.log("permanently delete links and folders"):o&&o.length>0&&l&&l.length<1?console.log("permanently delete folders"):o&&l&&o.length<1&&l.length>0&&console.log("permanently delete links")}function c(b){ee.call(this,r,b)}function i(b){ee.call(this,r,b)}function d(b){ee.call(this,r,b)}function v(b){ee.call(this,r,b)}function k(b){ee.call(this,r,b)}function y(b){ee.call(this,r,b)}return r.$$.update=()=>{r.$$.dirty&3&&s(2,t=[...o,...l])},[l,o,t,a,u,f,_,c,i,d,v,k,y]}class wr extends Ve{constructor(e){super(),Me(this,e,Ar,gr,Pe,{})}}let pt=[];async function yr(r){const t=(await(await fetch("http://localhost:5000/private/folder/moveFoldersToTrash",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({folder_ids:r.map(o=>o.folder_id)})})).json())[0];st.subscribe(o=>{pt=[...pt,...o]})();for(let o=0;o<t.length;o++){const a=t[o];Ae.update(u=>u.filter(f=>f.folder_id!==a.folder_id)),pt=pt.filter(u=>a.folder_id!==u.folder_id)}st.set(pt),xe(),it()}let vt=[];async function br(r){const t=(await(await fetch("http://localhost:5000/private/link/moveLinksToTrash",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({link_ids:r.map(o=>o.link_id)})})).json())[0];rt.subscribe(o=>{vt=[...vt,...o]})();for(let o=0;o<t.length;o++){const a=t[o];je.update(u=>u.filter(f=>f.link_id!==a.link_id)),vt=vt.filter(u=>u.link_id!==a.link_id)}rt.set(vt),xe(),it()}async function Er(r,e){console.log("moving folders and links...");const s=await fetch("http://localhost:5000/private/folder/moveFoldersToTrash",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({folder_ids:r.map(l=>l.folder_id)})}),t=await fetch("http://localhost:5000/private/link/moveLinksToTrash",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({link_ids:e.map(l=>l.link_id)})});try{const l=await Promise.all([s,t]),a=(await l[0].json())[0],f=(await l[1].json())[0];for(let _=0;_<a.length;_++){const c=a[_];Ae.update(i=>i.filter(d=>d.folder_id!==c.folder_id))}for(let _=0;_<f.length;_++){const c=f[_];je.update(i=>i.filter(d=>d.link_id!==c.link_id))}xe(),dr(),ur(),be(),it()}catch(l){console.log(l)}}function Ir(r){let e,s,t,l,o,a=r[0].length>1?"these items":"this item",u,f,_=r[0].length>1?"them":"it",c,i,d,v,k,y,b,g,E,N,I,T,S;return{c(){e=A("div"),s=A("div"),t=A("div"),l=A("span"),o=Z("Are you sure you want to move "),u=Z(a),f=Z(` to trash?
				You can restore `),c=Z(_),i=Z(" later."),d=L(),v=A("div"),k=A("div"),y=A("span"),b=Z("I'm sure"),g=L(),E=A("div"),N=A("span"),I=Z("Cancel"),this.h()},l(V){e=w(V,"DIV",{class:!0});var z=m(e);s=w(z,"DIV",{class:!0});var J=m(s);t=w(J,"DIV",{class:!0});var C=m(t);l=w(C,"SPAN",{class:!0});var M=m(l);o=X(M,"Are you sure you want to move "),u=X(M,a),f=X(M,` to trash?
				You can restore `),c=X(M,_),i=X(M," later."),M.forEach(p),C.forEach(p),d=B(J),v=w(J,"DIV",{class:!0});var U=m(v);k=w(U,"DIV",{class:!0});var j=m(k);y=w(j,"SPAN",{class:!0});var H=m(y);b=X(H,"I'm sure"),H.forEach(p),j.forEach(p),g=B(U),E=w(U,"DIV",{class:!0});var K=m(E);N=w(K,"SPAN",{class:!0});var $=m(N);I=X($,"Cancel"),$.forEach(p),K.forEach(p),U.forEach(p),J.forEach(p),z.forEach(p),this.h()},h(){n(l,"class","svelte-is0ajg"),n(t,"class","top svelte-is0ajg"),n(y,"class","svelte-is0ajg"),n(k,"class","button delete svelte-is0ajg"),n(N,"class","svelte-is0ajg"),n(E,"class","button svelte-is0ajg"),n(v,"class","buttons svelte-is0ajg"),n(s,"class","card svelte-is0ajg"),n(e,"class","delete_items_confirmation_popup svelte-is0ajg")},m(V,z){G(V,e,z),h(e,s),h(s,t),h(t,l),h(l,o),h(l,u),h(l,f),h(l,c),h(l,i),h(s,d),h(s,v),h(v,k),h(k,y),h(y,b),h(v,g),h(v,E),h(E,N),h(N,I),T||(S=[F(k,"click",Y(x(r[1]))),F(k,"keyup",r[7]),F(E,"click",Y(x(it))),F(E,"keyup",r[6]),F(s,"click",Y(x(Y))),F(s,"keyup",r[5]),F(e,"click",Y(x(it))),F(e,"keyup",r[4])],T=!0)},p(V,[z]){z&1&&a!==(a=V[0].length>1?"these items":"this item")&&Je(u,a),z&1&&_!==(_=V[0].length>1?"them":"it")&&Je(c,_)},i:fe,o:fe,d(V){V&&p(e),T=!1,ye(S)}}}function Nr(r,e,s){let t,l,o;te(r,De,i=>s(2,l=i)),te(r,Te,i=>s(3,o=i));async function a(){o.length>0&&l.length<1?(console.log("delete folders"),await yr(o)):o.length<1&&l.length>0?(console.log("delete links"),await br(l)):o.length>0&&l.length>0&&(console.log("delete folders AND links"),await Er(o,l))}function u(i){ee.call(this,r,i)}function f(i){ee.call(this,r,i)}function _(i){ee.call(this,r,i)}function c(i){ee.call(this,r,i)}return r.$$.update=()=>{r.$$.dirty&12&&s(0,t=[...o,...l])},[t,a,l,o,u,f,_,c]}class Sr extends Ve{constructor(e){super(),Me(this,e,Nr,Ir,Pe,{})}}async function jr(r){const e=JSON.parse(he()).Account.id;let s=`http://localhost:5000/private/folder/getFolderChildren/${r.folder_id}/${e}`;const o=(await(await fetch(s,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`}})).json())[0];at.set(o)}function yt(){dt.set(!1)}function Qt(){qt.set([])}let Tr=[];async function dl(r,e){e!==void 0?await Dr(r,e):await Cr()}async function Dr(r,e){var o;console.log(e);const l=(await(await fetch("http://localhost:5000/private/folder/moveFolders",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({destination_folder_id:e,folder_ids:r.map(a=>a.folder_id)})})).json())[0];for(let a=0;a<l.length;a++){const u=l[a];Ke(Ae)===null?Ae.set([...Tr,u]):Ae.update(f=>[...f,u])}Qt(),yt(),Le(`http://localhost:5173/appv1/my_links/${(o=l[0].subfolder_of)==null?void 0:o.String}`)}async function Cr(){console.log("move folders to root")}async function Qs(r){const t=(await(await fetch("http://localhost:5000/private/folder/moveFoldersToRoot",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({folder_ids:r.map(l=>l.folder_id)})})).json())[0];for(let l=0;l<t.length;l++){const o=t[l];Ae.update(a=>[o,...a])}Qt(),yt(),Le("http://localhost:5173/appv1/my_links")}let It;function wt(){ft(),be();const r=At.subscribe(e=>{It=e});It=!It,r(),At.set(It),Pt.set("Untitled folder"),setTimeout(()=>{Gt("create-folder-input")},100)}function vl(){pl.set([])}let Fr=[];async function kt(r,e){var o;const l=(await(await fetch("http://localhost:5000/private/link/move",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({links:r.map(a=>a.link_id),folder_id:e})})).json())[0];for(let a=0;a<l.length;a++){const u=l[a];Ke(je)===null?je.set([u,...Fr]):je.update(f=>[u,...f])}vl(),yt(),e!==""?Le(`http://localhost:5173/appv1/my_links/${(o=l[0].folder_id)==null?void 0:o.String}`):Le("http://localhost:5173/appv1/my_links")}async function Us(r,e,s){const t=await fetch("http://localhost:5000/private/folder/moveFoldersToRoot",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({folder_ids:r.map(o=>o.folder_id)})}),l=await fetch("http://localhost:5000/private/link/move",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({links:e.map(o=>o.link_id),folder_id:s})});try{const o=await Promise.all([t,l]),a=await o[0].json(),u=await o[1].json(),f=a[0],_=u[0];Ke(Ae)===null?Ae.set(f):Ae.update(c=>[...f,...c]),Ke(je)===null?je.set(_):je.update(c=>[..._,...c]),Qt(),vl(),yt(),Le("http://localhost:5173/appv1/my_links")}catch(o){console.log(o)}}async function ul(r,e,s){console.log(s);const t=await fetch("http://localhost:5000/private/folder/moveFolders",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({destination_folder_id:s,folder_ids:r.map(o=>o.folder_id)})}),l=await fetch("http://localhost:5000/private/link/move",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({links:e.map(o=>o.link_id),folder_id:s})});try{const o=await Promise.all([t,l]),a=await o[0].json(),u=await o[1].json(),f=a[0],_=u[0];Ke(Ae)===null?Ae.set(f):Ae.update(c=>[...f,...c]),Ke(je)===null?je.set(_):je.update(c=>[..._,...c]),yt(),Qt(),vl(),s&&Le(`http://localhost:5173/appv1/my_links/${s}`)}catch(o){console.log(o)}}async function Vr(){console.log("getting root folders only...");const e=`http://localhost:5000/private/folder/get-folders/${JSON.parse(he()).Account.id}`;return(await(await fetch(e,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`}})).json())[0]}async function Mr(r){if(console.log("getting folder links..."),r===void 0)return;let s=`http://localhost:5000/private/link/get_folder_links/${JSON.parse(he()).Account.id}/${r}`;const l=await(await fetch(s,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`}})).json();if(l[0]!==null){const o=l[0];Ot.set(o)}}async function Pr(){console.log("getting root links only...");const e=`http://localhost:5000/private/link/getRootLinks/${JSON.parse(he()).Account.id}`,t=await(await fetch(e,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`}})).json();if(t[0]!==null){const l=t[0];Ot.set(l)}else Ot.set([])}function El(r,e,s){const t=r.slice();return t[26]=e[s].folder_id,t[27]=e[s].folder_name,t[28]=e[s].subfolder_of,t[29]=e[s].account_id,t[30]=e[s].label,t[31]=e[s].path,t}function Il(r){let e,s=r[3],t=[];for(let l=0;l<s.length;l+=1)t[l]=Nl(El(r,s,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=pe()},l(l){for(let o=0;o<t.length;o+=1)t[o].l(l);e=pe()},m(l,o){for(let a=0;a<t.length;a+=1)t[a].m(l,o);G(l,e,o)},p(l,o){if(o[0]&109){s=l[3];let a;for(a=0;a<s.length;a+=1){const u=El(l,s,a);t[a]?t[a].p(u,o):(t[a]=Nl(u),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=s.length}},d(l){Ze(t,l),l&&p(e)}}}function Nl(r){let e,s,t,l,o,a,u,f,_=r[27]+"",c,i,d,v,k,y,b,g,E,N;return{c(){e=A("div"),s=A("div"),t=A("div"),l=ne("svg"),o=ne("path"),a=L(),u=A("div"),f=A("span"),c=Z(_),i=L(),this.h()},l(I){e=w(I,"DIV",{class:!0,"data-folderid":!0,"data-foldername":!0,"data-subfolderof":!0,"data-accountid":!0,"data-label":!0,"data-path":!0});var T=m(e);s=w(T,"DIV",{class:!0});var S=m(s);t=w(S,"DIV",{class:!0});var V=m(t);l=oe(V,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0,class:!0});var z=m(l);o=oe(z,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(o).forEach(p),z.forEach(p),V.forEach(p),S.forEach(p),a=B(T),u=w(T,"DIV",{class:!0});var J=m(u);f=w(J,"SPAN",{class:!0});var C=m(f);c=X(C,_),C.forEach(p),J.forEach(p),i=B(T),T.forEach(p),this.h()},h(){var I;n(o,"d","M2 11V4.6a.6.6 0 01.6-.6h6.178a.6.6 0 01.39.144l3.164 2.712a.6.6 0 00.39.144H21.4a.6.6 0 01.6.6V11M2 11v8.4a.6.6 0 00.6.6h18.8a.6.6 0 00.6-.6V11M2 11h20"),n(o,"stroke","#000000"),n(o,"stroke-width","1.5"),n(o,"stroke-linecap","round"),n(o,"stroke-linejoin","round"),n(o,"class","svelte-jwu78e"),n(l,"width","24px"),n(l,"height","24px"),n(l,"stroke-width","1.5"),n(l,"viewBox","0 0 24 24"),n(l,"fill","none"),n(l,"xmlns","http://www.w3.org/2000/svg"),n(l,"color","#000000"),n(l,"class","svelte-jwu78e"),n(t,"class","folder_icon svelte-jwu78e"),n(s,"class","top svelte-jwu78e"),n(f,"class","svelte-jwu78e"),n(u,"class","bottom svelte-jwu78e"),n(e,"class","folder svelte-jwu78e"),n(e,"data-folderid",d=r[26]),n(e,"data-foldername",v=r[27]),n(e,"data-subfolderof",k=(I=r[28])==null?void 0:I.String),n(e,"data-accountid",y=r[29]),n(e,"data-label",b=r[30]),n(e,"data-path",g=r[31]),ce(e,"selected-destination-folder",r[26]===r[0].folder_id),ce(e,"folder_disabled",r[2].map(Sl).includes(r[26]))},m(I,T){G(I,e,T),h(e,s),h(s,t),h(t,l),h(l,o),h(e,a),h(e,u),h(u,f),h(f,c),h(e,i),E||(N=[F(u,"click",Y(x(r[6]))),F(u,"keyup",r[16]),F(e,"click",Y(x(r[5]))),F(e,"keyup",r[15])],E=!0)},p(I,T){var S;T[0]&8&&_!==(_=I[27]+"")&&Je(c,_),T[0]&8&&d!==(d=I[26])&&n(e,"data-folderid",d),T[0]&8&&v!==(v=I[27])&&n(e,"data-foldername",v),T[0]&8&&k!==(k=(S=I[28])==null?void 0:S.String)&&n(e,"data-subfolderof",k),T[0]&8&&y!==(y=I[29])&&n(e,"data-accountid",y),T[0]&8&&b!==(b=I[30])&&n(e,"data-label",b),T[0]&8&&g!==(g=I[31])&&n(e,"data-path",g),T[0]&9&&ce(e,"selected-destination-folder",I[26]===I[0].folder_id),T[0]&12&&ce(e,"folder_disabled",I[2].map(Sl).includes(I[26]))},d(I){I&&p(e),E=!1,ye(N)}}}function Or(r){let e,s,t,l,o,a,u,f,_,c,i=(r[0].folder_name===void 0?"My folders":r[0].folder_name)+"",d,v,k,y,b,g,E,N,I,T,S,V,z,J,C,M,U,j,H,K,$,R,P,q,le,O,re,ue,ve,_e,ae=r[3]&&Il(r);return{c(){e=A("div"),s=A("div"),t=A("div"),l=A("div"),o=A("div"),a=A("div"),u=ne("svg"),f=ne("path"),_=L(),c=A("span"),d=Z(i),v=L(),k=A("div"),y=A("div"),b=A("div"),g=ne("svg"),E=ne("path"),N=ne("path"),I=L(),T=A("span"),S=Z("Back"),V=L(),z=A("div"),ae&&ae.c(),J=L(),C=A("div"),M=A("div"),U=A("div"),j=ne("svg"),H=ne("path"),K=L(),$=A("div"),R=A("div"),P=A("span"),q=Z("Select"),le=L(),O=A("div"),re=A("span"),ue=Z("Cancel"),this.h()},l(D){e=w(D,"DIV",{class:!0});var Q=m(e);s=w(Q,"DIV",{class:!0});var ie=m(s);t=w(ie,"DIV",{class:!0});var ke=m(t);l=w(ke,"DIV",{class:!0});var me=m(l);o=w(me,"DIV",{class:!0});var ge=m(o);a=w(ge,"DIV",{class:!0});var de=m(a);u=oe(de,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0,class:!0});var we=m(u);f=oe(we,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(f).forEach(p),we.forEach(p),de.forEach(p),_=B(ge),c=w(ge,"SPAN",{class:!0});var et=m(c);d=X(et,i),et.forEach(p),ge.forEach(p),me.forEach(p),v=B(ke),k=w(ke,"DIV",{class:!0});var qe=m(k);y=w(qe,"DIV",{class:!0});var Be=m(y);b=w(Be,"DIV",{class:!0});var Oe=m(b);g=oe(Oe,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0,class:!0});var ze=m(g);E=oe(ze,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(E).forEach(p),N=oe(ze,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(N).forEach(p),ze.forEach(p),Oe.forEach(p),I=B(Be),T=w(Be,"SPAN",{class:!0});var tt=m(T);S=X(tt,"Back"),tt.forEach(p),Be.forEach(p),qe.forEach(p),ke.forEach(p),V=B(ie),z=w(ie,"DIV",{class:!0});var He=m(z);ae&&ae.l(He),He.forEach(p),J=B(ie),C=w(ie,"DIV",{class:!0});var Ge=m(C);M=w(Ge,"DIV",{class:!0});var Qe=m(M);U=w(Qe,"DIV",{class:!0});var lt=m(U);j=oe(lt,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0,class:!0});var Ue=m(j);H=oe(Ue,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(H).forEach(p),Ue.forEach(p),lt.forEach(p),Qe.forEach(p),K=B(Ge),$=w(Ge,"DIV",{class:!0});var nt=m($);R=w(nt,"DIV",{class:!0});var ot=m(R);P=w(ot,"SPAN",{class:!0});var ht=m(P);q=X(ht,"Select"),ht.forEach(p),ot.forEach(p),le=B(nt),O=w(nt,"DIV",{class:!0});var _l=m(O);re=w(_l,"SPAN",{class:!0});var ml=m(re);ue=X(ml,"Cancel"),ml.forEach(p),_l.forEach(p),nt.forEach(p),Ge.forEach(p),ie.forEach(p),Q.forEach(p),this.h()},h(){n(f,"d","M2 11V4.6a.6.6 0 01.6-.6h6.178a.6.6 0 01.39.144l3.164 2.712a.6.6 0 00.39.144H21.4a.6.6 0 01.6.6V11M2 11v8.4a.6.6 0 00.6.6h18.8a.6.6 0 00.6-.6V11M2 11h20"),n(f,"stroke","#000000"),n(f,"stroke-width","1.5"),n(f,"stroke-linecap","round"),n(f,"stroke-linejoin","round"),n(f,"class","svelte-jwu78e"),n(u,"width","24px"),n(u,"height","24px"),n(u,"stroke-width","1.5"),n(u,"viewBox","0 0 24 24"),n(u,"fill","none"),n(u,"xmlns","http://www.w3.org/2000/svg"),n(u,"color","#000000"),n(u,"class","svelte-jwu78e"),n(a,"class","folder_icon svelte-jwu78e"),n(c,"class","svelte-jwu78e"),n(o,"class","folder_name svelte-jwu78e"),n(l,"class","left svelte-jwu78e"),n(E,"d","M10.25 4.75l-3.5 3.5 3.5 3.5"),n(E,"stroke","#000000"),n(E,"stroke-width","1.5"),n(E,"stroke-linecap","round"),n(E,"stroke-linejoin","round"),n(E,"class","svelte-jwu78e"),n(N,"d","M6.75 8.25h6a4 4 0 014 4v7"),n(N,"stroke","#000000"),n(N,"stroke-width","1.5"),n(N,"stroke-linecap","round"),n(N,"stroke-linejoin","round"),n(N,"class","svelte-jwu78e"),n(g,"width","24px"),n(g,"height","24px"),n(g,"stroke-width","1.5"),n(g,"viewBox","0 0 24 24"),n(g,"fill","none"),n(g,"xmlns","http://www.w3.org/2000/svg"),n(g,"color","#000000"),n(g,"class","svelte-jwu78e"),n(b,"class","back_icon svelte-jwu78e"),n(T,"class","svelte-jwu78e"),n(y,"class","back_button svelte-jwu78e"),ce(y,"back-button-disabled",r[0].folder_id===void 0),n(k,"class","right svelte-jwu78e"),n(t,"class","top_bar svelte-jwu78e"),n(z,"class","folders svelte-jwu78e"),n(H,"d","M18 6h2m2 0h-2m0 0V4m0 2v2M21.4 20H2.6a.6.6 0 01-.6-.6V11h19.4a.6.6 0 01.6.6v7.8a.6.6 0 01-.6.6zM2 11V4.6a.6.6 0 01.6-.6h6.178a.6.6 0 01.39.144l3.164 2.712a.6.6 0 00.39.144H14"),n(H,"stroke","#000000"),n(H,"stroke-width","1.5"),n(H,"stroke-linecap","round"),n(H,"stroke-linejoin","round"),n(H,"class","svelte-jwu78e"),n(j,"width","24px"),n(j,"height","24px"),n(j,"stroke-width","1.5"),n(j,"viewBox","0 0 24 24"),n(j,"fill","none"),n(j,"xmlns","http://www.w3.org/2000/svg"),n(j,"color","#000000"),n(j,"class","svelte-jwu78e"),n(U,"class","create_folder_icon svelte-jwu78e"),n(M,"class","left svelte-jwu78e"),n(P,"class","svelte-jwu78e"),n(R,"class","select svelte-jwu78e"),ce(R,"select-button-disabled",r[2]&&r[2].map(jl).includes(r[0].folder_id)||r[3]&&r[2].some(r[18])||r[4].url.pathname==="/appv1/my_links"&&r[0].folder_id===void 0&&r[1].every(Tl)||r[1].length>0&&r[0].folder_id&&r[1].every(r[19])),n(re,"class","svelte-jwu78e"),n(O,"class","cancel svelte-jwu78e"),n($,"class","right svelte-jwu78e"),n(C,"class","bottom_bar svelte-jwu78e"),n(s,"class","card svelte-jwu78e"),n(e,"class","move_items_container svelte-jwu78e")},m(D,Q){G(D,e,Q),h(e,s),h(s,t),h(t,l),h(l,o),h(o,a),h(a,u),h(u,f),h(o,_),h(o,c),h(c,d),h(t,v),h(t,k),h(k,y),h(y,b),h(b,g),h(g,E),h(g,N),h(y,I),h(y,T),h(T,S),h(s,V),h(s,z),ae&&ae.m(z,null),h(s,J),h(s,C),h(C,M),h(M,U),h(U,j),h(j,H),h(C,K),h(C,$),h($,R),h(R,P),h(P,q),h($,le),h($,O),h(O,re),h(re,ue),ve||(_e=[F(y,"click",Y(x(r[7]))),F(y,"keyup",r[17]),F(j,"click",Y(x(r[9]))),F(j,"keyup",r[14]),F(R,"click",Y(x(r[8]))),F(R,"keyup",r[13]),F(O,"click",Y(x(cl))),F(O,"keyup",r[12]),F(s,"click",Y(x(Y))),F(s,"keyup",r[11]),F(e,"click",Y(x(cl))),F(e,"keyup",r[10])],ve=!0)},p(D,Q){Q[0]&1&&i!==(i=(D[0].folder_name===void 0?"My folders":D[0].folder_name)+"")&&Je(d,i),Q[0]&1&&ce(y,"back-button-disabled",D[0].folder_id===void 0),D[3]?ae?ae.p(D,Q):(ae=Il(D),ae.c(),ae.m(z,null)):ae&&(ae.d(1),ae=null),Q[0]&31&&ce(R,"select-button-disabled",D[2]&&D[2].map(jl).includes(D[0].folder_id)||D[3]&&D[2].some(D[18])||D[4].url.pathname==="/appv1/my_links"&&D[0].folder_id===void 0&&D[1].every(Tl)||D[1].length>0&&D[0].folder_id&&D[1].every(D[19]))},i:fe,o:fe,d(D){D&&p(e),ae&&ae.d(),ve=!1,ye(_e)}}}const Sl=r=>r.folder_id,jl=r=>r.folder_id,Tl=r=>{var e;return((e=r.folder_id)==null?void 0:e.Valid)===!1};function Lr(r,e,s){let t,l,o,a,u,f;te(r,De,j=>s(1,t=j)),te(r,Te,j=>s(2,l=j)),te(r,$e,j=>s(0,o=j)),te(r,Ae,j=>s(21,a=j)),te(r,at,j=>s(3,u=j)),te(r,Re,j=>s(4,f=j)),Ps(async()=>{at.set(a)}),Ks(()=>{$e.set({}),at.set([]),Ot.set([])});async function _(){o.folder_id!==void 0&&await jr(o)}async function c(){o.folder_id!==void 0&&await Mr(o.folder_id)}let i={};function d(){v()}function v(){var le;const j=(le=window.event)==null?void 0:le.currentTarget,H=j==null?void 0:j.closest(".folder"),K=H==null?void 0:H.dataset.folderid;if(K===void 0)return;const $=H==null?void 0:H.dataset.foldername;if($===void 0)return;const R=H==null?void 0:H.dataset.subfolderof;if(R===void 0)return;const P={folder_id:K,folder_name:$,subfolder_of:{String:R,Valid:R!==""}};$e.subscribe(O=>{i=O})(),i.folder_id===P.folder_id?$e.set({}):$e.set(P)}function k(){v()}async function y(){var j;(j=o.subfolder_of)!=null&&j.Valid?b(o):($e.set({}),at.set(await Vr()))}async function b(j){var P;let H=`http://localhost:5000/private/folder/${(P=j.subfolder_of)==null?void 0:P.String}`;const R=(await(await fetch(H,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`}})).json())[0];$e.set(R)}async function g(){l.length>0&&t.length<1?(console.log("move folders"),o.folder_id!==void 0?await dl(l,o.folder_id):Qs(l)):l.length<1&&t.length>0?(console.log("move links"),o.folder_id!==void 0?(await kt(t,o.folder_id),console.log("move links to selected destination folder")):await kt(t,"")):l.length>0&&t.length>0&&(o.folder_id!==void 0?(console.log("move links and folders to selected destination folder"),await ul(l,t,o.folder_id)):(console.log("move links and folders to root"),await Us(l,t,"")))}async function E(){wt()}function N(j){ee.call(this,r,j)}function I(j){ee.call(this,r,j)}function T(j){ee.call(this,r,j)}function S(j){ee.call(this,r,j)}function V(j){ee.call(this,r,j)}function z(j){ee.call(this,r,j)}function J(j){ee.call(this,r,j)}function C(j){ee.call(this,r,j)}const M=j=>u.map(H=>H.folder_id).includes(j.folder_id),U=j=>{var H;return((H=j.folder_id)==null?void 0:H.String)===o.folder_id};return r.$$.update=()=>{r.$$.dirty[0]&1&&(_(),c()),r.$$.dirty[0]&1&&(o.folder_id===void 0?Pr():console.log("selected destination folder is present"))},[o,t,l,u,f,d,k,y,g,E,N,I,T,S,V,z,J,C,M,U]}class Br extends Ve{constructor(e){super(),Me(this,e,Lr,Or,Pe,{},null,[-1,-1])}}function Dl(){Jt.set(!1)}let Nt=[];async function Rr(r,e){if(r===void 0||e===void 0)return;const l=(await(await fetch("http://localhost:5000/private/link/rename",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({link_title:r,link_id:e})})).json())[0];je.subscribe(u=>{Nt=u})();const a=Nt.findIndex(u=>u.link_id===l.link_id);Nt.splice(a,1,l),je.set(Nt),De.set([]),De.update(u=>u=[l,...u])}function zr(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y;return{c(){e=A("div"),s=A("form"),t=A("div"),l=A("input"),o=L(),a=A("div"),u=A("button"),f=A("span"),_=Z("Rename"),c=L(),i=A("button"),d=A("span"),v=Z("Cancel"),this.h()},l(b){e=w(b,"DIV",{class:!0});var g=m(e);s=w(g,"FORM",{class:!0});var E=m(s);t=w(E,"DIV",{class:!0});var N=m(t);l=w(N,"INPUT",{type:!0,id:!0,placeholder:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0,class:!0}),N.forEach(p),o=B(E),a=w(E,"DIV",{class:!0});var I=m(a);u=w(I,"BUTTON",{type:!0,class:!0});var T=m(u);f=w(T,"SPAN",{class:!0});var S=m(f);_=X(S,"Rename"),S.forEach(p),T.forEach(p),c=B(I),i=w(I,"BUTTON",{class:!0});var V=m(i);d=w(V,"SPAN",{class:!0});var z=m(d);v=X(z,"Cancel"),z.forEach(p),V.forEach(p),I.forEach(p),E.forEach(p),g.forEach(p),this.h()},h(){n(l,"type","text"),n(l,"id","rename_link_title_input"),n(l,"placeholder","Enter link title"),n(l,"autocomplete","off"),n(l,"autocorrect","off"),n(l,"spellcheck","false"),n(l,"class","svelte-1sj79xe"),n(t,"class","input svelte-1sj79xe"),n(f,"class","svelte-1sj79xe"),n(u,"type","submit"),n(u,"class","svelte-1sj79xe"),ce(u,"disabled",r[0].link_title===""),n(d,"class","svelte-1sj79xe"),n(i,"class","svelte-1sj79xe"),n(a,"class","buttons svelte-1sj79xe"),n(s,"class","svelte-1sj79xe"),n(e,"class","rename_link svelte-1sj79xe")},m(b,g){G(b,e,g),h(e,s),h(s,t),h(t,l),Xe(l,r[0].link_title),h(s,o),h(s,a),h(a,u),h(u,f),h(f,_),h(a,c),h(a,i),h(i,d),h(d,v),k||(y=[F(l,"input",r[6]),F(u,"click",Y(x(r[1]))),F(i,"click",Y(x(Dl))),F(i,"keyup",r[5]),F(s,"click",Y(x(Y))),F(s,"keyup",r[4]),F(e,"click",Y(x(Dl))),F(e,"keyup",r[3])],k=!0)},p(b,[g]){g&1&&l.value!==b[0].link_title&&Xe(l,b[0].link_title),g&1&&ce(u,"disabled",b[0].link_title==="")},i:fe,o:fe,d(b){b&&p(e),k=!1,ye(y)}}}function Jr(r,e,s){let t,l;te(r,De,c=>s(2,l=c));async function o(){Jt.set(!1),await Rr(t.link_title,t.link_id)}function a(c){ee.call(this,r,c)}function u(c){ee.call(this,r,c)}function f(c){ee.call(this,r,c)}function _(){t.link_title=this.value,s(0,t),s(2,l)}return r.$$.update=()=>{r.$$.dirty&4&&s(0,t=l[0])},[t,o,l,a,u,f,_]}class qr extends Ve{constructor(e){super(),Me(this,e,Jr,zr,Pe,{})}}function Ye(r){return r===void 0?void 0:/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(r)}function fl(){hl.set(!1)}let St=[];async function Hr(r,e){if(r===void 0||e===void 0)return;fl();const l=(await(await fetch("http://localhost:5000/private/folder/rename",{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({new_folder_name:r,folder_id:e})})).json())[0];Ae.subscribe(u=>{St=u})();const a=St.findIndex(u=>u.folder_id===l.folder_id);St.splice(a,1,l),Ae.set(St),Te.set([]),Te.update(u=>u=[l,...u])}function Cl(r){let e,s;return{c(){e=A("span"),s=Z("Folder name is required"),this.h()},l(t){e=w(t,"SPAN",{class:!0});var l=m(e);s=X(l,"Folder name is required"),l.forEach(p),this.h()},h(){n(e,"class","svelte-dx4rtp")},m(t,l){G(t,e,l),h(e,s)},d(t){t&&p(e)}}}function Fl(r){let e,s;return{c(){e=A("span"),s=Z("Folder name must not contain special characters"),this.h()},l(t){e=w(t,"SPAN",{class:!0});var l=m(e);s=X(l,"Folder name must not contain special characters"),l.forEach(p),this.h()},h(){n(e,"class","svelte-dx4rtp")},m(t,l){G(t,e,l),h(e,s)},d(t){t&&p(e)}}}function Gr(r){let e,s,t,l,o,a,u,f,_,c,i,d,v=Ye(r[0].folder_name),k,y,b,g,E,N,I,T,S,V,z,J=r[0].folder_name===""&&Cl(),C=v&&Fl();return{c(){e=A("div"),s=A("form"),t=A("div"),l=A("div"),o=A("div"),a=ne("svg"),u=ne("path"),f=L(),_=A("input"),c=L(),i=A("div"),J&&J.c(),d=L(),C&&C.c(),k=L(),y=A("div"),b=A("button"),g=A("span"),E=Z("Rename"),N=L(),I=A("button"),T=A("span"),S=Z("Cancel"),this.h()},l(M){e=w(M,"DIV",{class:!0});var U=m(e);s=w(U,"FORM",{class:!0});var j=m(s);t=w(j,"DIV",{class:!0});var H=m(t);l=w(H,"DIV",{class:!0});var K=m(l);o=w(K,"DIV",{class:!0});var $=m(o);a=oe($,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var R=m(a);u=oe(R,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(u).forEach(p),R.forEach(p),$.forEach(p),f=B(K),_=w(K,"INPUT",{type:!0,id:!0,placeholder:!0,spellcheck:!0,autocomplete:!0,autocorrect:!0,class:!0}),K.forEach(p),H.forEach(p),c=B(j),i=w(j,"DIV",{class:!0});var P=m(i);J&&J.l(P),d=B(P),C&&C.l(P),P.forEach(p),k=B(j),y=w(j,"DIV",{class:!0});var q=m(y);b=w(q,"BUTTON",{type:!0,class:!0});var le=m(b);g=w(le,"SPAN",{class:!0});var O=m(g);E=X(O,"Rename"),O.forEach(p),le.forEach(p),N=B(q),I=w(q,"BUTTON",{class:!0});var re=m(I);T=w(re,"SPAN",{class:!0});var ue=m(T);S=X(ue,"Cancel"),ue.forEach(p),re.forEach(p),q.forEach(p),j.forEach(p),U.forEach(p),this.h()},h(){n(u,"d","M2 11V4.6a.6.6 0 01.6-.6h6.178a.6.6 0 01.39.144l3.164 2.712a.6.6 0 00.39.144H21.4a.6.6 0 01.6.6V11M2 11v8.4a.6.6 0 00.6.6h18.8a.6.6 0 00.6-.6V11M2 11h20"),n(u,"stroke","#000000"),n(u,"stroke-width","1.5"),n(u,"stroke-linecap","round"),n(u,"stroke-linejoin","round"),n(u,"class","svelte-dx4rtp"),n(a,"width","24px"),n(a,"height","24px"),n(a,"stroke-width","1.5"),n(a,"viewBox","0 0 24 24"),n(a,"fill","none"),n(a,"xmlns","http://www.w3.org/2000/svg"),n(a,"color","#000000"),n(o,"class","icon svelte-dx4rtp"),n(_,"type","text"),n(_,"id","rename_folder_input"),n(_,"placeholder","Enter folder name"),n(_,"spellcheck","false"),n(_,"autocomplete","off"),n(_,"autocorrect","off"),n(_,"class","svelte-dx4rtp"),n(l,"class","input svelte-dx4rtp"),n(t,"class","top svelte-dx4rtp"),n(i,"class","errors svelte-dx4rtp"),n(g,"class","svelte-dx4rtp"),n(b,"type","submit"),n(b,"class","svelte-dx4rtp"),n(T,"class","svelte-dx4rtp"),n(I,"class","svelte-dx4rtp"),n(y,"class","bottom svelte-dx4rtp"),n(s,"class","svelte-dx4rtp"),ce(s,"form_validation_error",r[0].folder_name===""||Ye(r[0].folder_name)),n(e,"class","rename_folder svelte-dx4rtp")},m(M,U){G(M,e,U),h(e,s),h(s,t),h(t,l),h(l,o),h(o,a),h(a,u),h(l,f),h(l,_),Xe(_,r[0].folder_name),h(s,c),h(s,i),J&&J.m(i,null),h(i,d),C&&C.m(i,null),h(s,k),h(s,y),h(y,b),h(b,g),h(g,E),h(y,N),h(y,I),h(I,T),h(T,S),V||(z=[F(_,"input",r[6]),F(b,"click",Y(x(r[1]))),F(I,"click",Y(x(fl))),F(I,"keyup",r[5]),F(s,"click",Y(x(Y))),F(s,"keyup",r[4]),F(e,"click",Y(x(fl))),F(e,"keyup",r[3])],V=!0)},p(M,[U]){U&1&&_.value!==M[0].folder_name&&Xe(_,M[0].folder_name),M[0].folder_name===""?J||(J=Cl(),J.c(),J.m(i,d)):J&&(J.d(1),J=null),U&1&&(v=Ye(M[0].folder_name)),v?C||(C=Fl(),C.c(),C.m(i,null)):C&&(C.d(1),C=null),U&1&&ce(s,"form_validation_error",M[0].folder_name===""||Ye(M[0].folder_name))},i:fe,o:fe,d(M){M&&p(e),J&&J.d(),C&&C.d(),V=!1,ye(z)}}}function Qr(r,e,s){let t,l;te(r,Te,c=>s(2,l=c));async function o(){await Hr(t.folder_name,t.folder_id)}function a(c){ee.call(this,r,c)}function u(c){ee.call(this,r,c)}function f(c){ee.call(this,r,c)}function _(){t.folder_name=this.value,s(0,t),s(2,l)}return r.$$.update=()=>{r.$$.dirty&4&&s(0,t=l[0])},[t,o,l,a,u,f,_]}class Ur extends Ve{constructor(e){super(),Me(this,e,Qr,Gr,Pe,{})}}const $s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAN2AAADdgF91YLMAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAjFQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxdZ5MAAAALp0Uk5TAAECAwQFBgcICQoLDA0OEBESExQVFhcYGRobHB0eHyAhIiMkKissLS8wMjM0Njc4Ojs8PT4/QEFCQ0RFRkdISUpLTE1OUVJTVFVZWltcXl9jZ2hpa2xucXJzdHl6e3x+f4CBgoOEhYaIiYuSk5SVlpebnJ2goaKkpaanqqusrq+wtLW4ubq7vL2+v8DBwsPExcvMzc7Q0dPU1tfZ293e4OHi5Obn6Onq6+zt7u/w8vP09ff4+fr7/P3+9i3qdgAACAlJREFUeNrFm/9DVFUaxg8jYCmSSyCYmmBttklhWIYVqyW1lmbmarvsKm6yoNYuKksbuYAJmBPGLDrZmLC08SUHtNBmkLmfv25/uMwwzNy59z13rnvf3+aee95z5p5z3vd5n/c9SrmR0toDrd39oRvj0Xg8On4j1N/deqC2VP1fZHXjmaFJLGVy6Ezj6oc6eHFD28g8tjI/8teG4oc0fF3HLCKZ7ajzfvQnW0bThohFetsPNm7furmsuLhs89btjQfbeyOxtBdGW570dPjaPiOl+9bZfTUBq5cCNfvO3kq9ZvTVejb8joGk1mjn/ir7d6v2d0aTbw/s8GT4XcPJ797bVCTpUNTUm1yN4V15D7+hZ1HX9cNr5b3WHr6+2K1nQ17DFzbPmXpCjbpdG0Nmz7nmQvfj10dMJVdedtP75Stm70i9y+FXnDK3fvhFt3/gxbB5IE6tcLX65je8eyTg/hMGjtw1V9DFTtgzA2B0VeS3iSu6DICZPZr9Ck4bABM78z/GOycAjNMFWl7ngmlJyr0wJOWmHbug4aNKLgMsHCvwxJKpgj8vAFwuEU/5GsCUN4bUNOZTANeEH3TTKMBYtZferHoMYHST6P+PAoQrlKdSEQYYFXyDkmsAwTVeA4o1QYBrjvug+DLAxZXeQ5qVFwEuO5yFggsAwYcwvlIrgwAX7I/WaYDwGvVQZE0Y4LSt/TWAMfH+C2yqe/vtuk1iZ1ExBhg2VnnDDDAlPH+BPeenTX87fX6PcA7VU8BMTs+0IgQsCO1P47fpSPxbIWDZsQCEcnnnUwDHZMvZlxkM9Mk2zjGAUznwjwEMiOz/lpvJGGRwMBmt3Nwi8gsDgGGJkQojwITIXG+cAuDzd6qVUqr6nc8BmNooMrQTQMQKJzYDhsj/r/oGYLpp6UnTNMA3q0T4wACaLU7AHNAlWsfzAD1l6Y/KegDOi7p3AXPZJ6EHuCuyAE8vAMMZBy8wDCw8LbIGd4GerPgH4IjoH3wB3MvacVvuAV+IFBwByIyZhoGwyJxUJICj2c+PAgnRJwyEgeEMAwEgw/+HgIjFYS2IAIdk8QLAcoM3AFxR4hU4Z9VwTrwG6gowsCz+BxDGX9/l+qOHgO+EURtAOn/QB4SELu0n4FmrhmeBn4RKQkBfGv9iAEJ38gjwwDLgLXwAPCJ0ZYCxxOK0ANelID8OVFq1VAJxaShxHWhJ/RoFDktRxffAXquGvcD3Ui2HgdEU/wbExPzHv4GTVg0nNTaSWhsDkmxeB9ArRnZtQL9VQz/QKlbTC5xdROKzQJOcsgPiz2Q/fyYObBOraQJmTYzeAESLxD0LxoFw1jkoDAPjcohcFAUaUt+0UwNdvw9wIvPpCYD3NdR0Am1KKaVGgP06vEsEmH99+cPX54GIDpuzHxhRSqnV80CVToDxQgww/paGf1b93QBiL+hoqQLmVy8apVt6Ic57AIy9lPz90hgA7+lpubVofs8AHZpBVnMCgDvBj9999+PgHQASzZpKOoAzSqkhYJ9umPfmz5lxwc9v6urYBwwppSaBGu1A86ne5eP3PqWtogaYVKoUiLnhIp/vuZ8c/X7P8y4UBGJAqaoFIu7C7Uffauu8dKmz7a1H3fWPALXqgJYj8FR6gQOqFWj3ZwLtQKvqBg76M4GDQLfql6Mxr6UR6FchYLtGr8LdNkHwxt066ZHtQEjdALaK+5Qfn2Bmd67W3TNMHJcT3FuBG2oc2Czssa0rZpMBWcywxLqkqGQzMK6iQJno/V0jKbv39frs5vVfp5pHZNm6MiCq4oCEyQ98lEizvD++ltn+2o9pzYmPJLa1GIhLJ/D4oKn6atMrkwCJk8uGCJxMAEy+snfIfG/wcekEZEtQ9wOA0b1NKVXxJQDBdUvN64IAfFmhlPrNPxMAP9QJl0C0CV+dB/jvIoMUOJEAmEoRSjunABInFj9K/TjA/KuyTSg5hjWzAJ8u1Wg0TAMstASUUirQsgAw3bDEIv4DYLZGdAwFhqgkAvCHZXHgV+ZKlytVbu6Or5bFi783gEiJxBA5m+KCPoA/ZRwKc9dN1NdPWOzJxRn0FQhMsbMz+hDguLI+dw8eWJ9KdRTgQ4EzcnTHpTPAoMV/qbqaPPZXrVD9v4CZUmd37AhI2oA76y1tb7sBYLRbWuZfTaZCH1tA4gTJKu/bkF+NUYjm2kG/A+5XOkIyJ1D6CTCd01Q+EQo9kdN4/wf4xBGUOsDyolngLzbwwAYA/BGYLXKC5Q6ByRtAfJ07xPPYPeANx8DEPjT7DPjULeY6B3zmGJrZBqdFc1q0R4b8GpgrcgpObcPz54Db7mHnBPCcU3huS1B8AFxyP4GLwAdOBIUtRdNpxcbI5biD6jZHkioI/DY/5B90JKnsaLqbQHTatUSBm440nR1ReZu85bYjUWlH1f6S/wR+caZqbcjqWP4TiDmT1TZ0/brKvMXaji+n63USFt4FxmkJC62UjSeSkbLRSlp5IVlJK520nReSlbbTSVx6IBaJS43Ubf5ilbrVSV7nLZbJa430fb5inb7XKWDIU3IUMGiUcOQnuUo4dIpY8pHcRSw6ZTzuxaaMR6uQybXYFTLplXK5E/tSLr1iNjfiUMymXc6nbQGcyvn8L2j0v6TT96JW/8t6/S9s9r+02//idv/L+/2/4OD/FQ/l+yUX5f81H/8vOinfr3op/y+7Kd+v+ynl+4VHpXy/8qmU75delfL92q/J5vl68dn0Uf5e/TbF18vvKfHw+v//AE96QChvj4O7AAAAAElFTkSuQmCC";function Ys(){ft(),be(),Ht.set(!0),setTimeout(()=>{Gt("url_input")},20)}let xt;function $r(){Lt.subscribe(e=>{xt=e})(),Lt.set(xt=!xt)}let el=[],tl=[];async function Yr(r){const e=await fetch(`http://localhost:5000/private/link/searchLinks/${r}`,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`}}),s=await fetch(`http://localhost:5000/private/folder/searchFolders/${r}`,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`}}),t=await Promise.all([e,s]),l=await t[0].json(),o=await t[1].json();el=l[0],tl=o[0],el!==null?rt.set(el):rt.set([]),tl!==null?st.set(tl):st.set([])}var Wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vl={},Kr={get exports(){return Vl},set exports(r){Vl=r}};/*!***************************************************
* mark.js v8.11.1
* https://markjs.io/
* Copyright (c) 2014–2018, Julian Kühnel
* Released under the MIT license https://git.io/vwTVl
*****************************************************/(function(r,e){(function(s,t){r.exports=t()})(Wr,function(){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t=function(_,c){if(!(_ instanceof c))throw new TypeError("Cannot call a class as a function")},l=function(){function _(c,i){for(var d=0;d<i.length;d++){var v=i[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,i,d){return i&&_(c.prototype,i),d&&_(c,d),c}}(),o=Object.assign||function(_){for(var c=1;c<arguments.length;c++){var i=arguments[c];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(_[d]=i[d])}return _},a=function(){function _(c){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5e3;t(this,_),this.ctx=c,this.iframes=i,this.exclude=d,this.iframesTimeout=v}return l(_,[{key:"getContexts",value:function(){var i=void 0,d=[];return typeof this.ctx>"u"||!this.ctx?i=[]:NodeList.prototype.isPrototypeOf(this.ctx)?i=Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?i=this.ctx:typeof this.ctx=="string"?i=Array.prototype.slice.call(document.querySelectorAll(this.ctx)):i=[this.ctx],i.forEach(function(v){var k=d.filter(function(y){return y.contains(v)}).length>0;d.indexOf(v)===-1&&!k&&d.push(v)}),d}},{key:"getIframeContents",value:function(i,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},k=void 0;try{var y=i.contentWindow;if(k=y.document,!y||!k)throw new Error("iframe inaccessible")}catch{v()}k&&d(k)}},{key:"isIframeBlank",value:function(i){var d="about:blank",v=i.getAttribute("src").trim(),k=i.contentWindow.location.href;return k===d&&v!==d&&v}},{key:"observeIframeLoad",value:function(i,d,v){var k=this,y=!1,b=null,g=function E(){if(!y){y=!0,clearTimeout(b);try{k.isIframeBlank(i)||(i.removeEventListener("load",E),k.getIframeContents(i,d,v))}catch{v()}}};i.addEventListener("load",g),b=setTimeout(g,this.iframesTimeout)}},{key:"onIframeReady",value:function(i,d,v){try{i.contentWindow.document.readyState==="complete"?this.isIframeBlank(i)?this.observeIframeLoad(i,d,v):this.getIframeContents(i,d,v):this.observeIframeLoad(i,d,v)}catch{v()}}},{key:"waitForIframes",value:function(i,d){var v=this,k=0;this.forEachIframe(i,function(){return!0},function(y){k++,v.waitForIframes(y.querySelector("html"),function(){--k||d()})},function(y){y||d()})}},{key:"forEachIframe",value:function(i,d,v){var k=this,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},b=i.querySelectorAll("iframe"),g=b.length,E=0;b=Array.prototype.slice.call(b);var N=function(){--g<=0&&y(E)};g||N(),b.forEach(function(I){_.matches(I,k.exclude)?N():k.onIframeReady(I,function(T){d(I)&&(E++,v(T)),N()},N)})}},{key:"createIterator",value:function(i,d,v){return document.createNodeIterator(i,d,v,!1)}},{key:"createInstanceOnIframe",value:function(i){return new _(i.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(i,d,v){var k=i.compareDocumentPosition(v),y=Node.DOCUMENT_POSITION_PRECEDING;if(k&y)if(d!==null){var b=d.compareDocumentPosition(v),g=Node.DOCUMENT_POSITION_FOLLOWING;if(b&g)return!0}else return!0;return!1}},{key:"getIteratorNode",value:function(i){var d=i.previousNode(),v=void 0;return d===null?v=i.nextNode():v=i.nextNode()&&i.nextNode(),{prevNode:d,node:v}}},{key:"checkIframeFilter",value:function(i,d,v,k){var y=!1,b=!1;return k.forEach(function(g,E){g.val===v&&(y=E,b=g.handled)}),this.compareNodeIframe(i,d,v)?(y===!1&&!b?k.push({val:v,handled:!0}):y!==!1&&!b&&(k[y].handled=!0),!0):(y===!1&&k.push({val:v,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(i,d,v,k){var y=this;i.forEach(function(b){b.handled||y.getIframeContents(b.val,function(g){y.createInstanceOnIframe(g).forEachNode(d,v,k)})})}},{key:"iterateThroughNodes",value:function(i,d,v,k,y){for(var b=this,g=this.createIterator(d,i,k),E=[],N=[],I=void 0,T=void 0,S=function(){var z=b.getIteratorNode(g);return T=z.prevNode,I=z.node,I};S();)this.iframes&&this.forEachIframe(d,function(V){return b.checkIframeFilter(I,T,V,E)},function(V){b.createInstanceOnIframe(V).forEachNode(i,function(z){return N.push(z)},k)}),N.push(I);N.forEach(function(V){v(V)}),this.iframes&&this.handleOpenIframes(E,i,v,k),y()}},{key:"forEachNode",value:function(i,d,v){var k=this,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},b=this.getContexts(),g=b.length;g||y(),b.forEach(function(E){var N=function(){k.iterateThroughNodes(i,E,d,v,function(){--g<=0&&y()})};k.iframes?k.waitForIframes(E,N):N()})}}],[{key:"matches",value:function(i,d){var v=typeof d=="string"?[d]:d,k=i.matches||i.matchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;if(k){var y=!1;return v.every(function(b){return k.call(i,b)?(y=!0,!1):!0}),y}else return!1}}]),_}(),u=function(){function _(c){t(this,_),this.ctx=c,this.ie=!1;var i=window.navigator.userAgent;(i.indexOf("MSIE")>-1||i.indexOf("Trident")>-1)&&(this.ie=!0)}return l(_,[{key:"log",value:function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"debug",v=this.opt.log;this.opt.debug&&(typeof v>"u"?"undefined":s(v))==="object"&&typeof v[d]=="function"&&v[d]("mark.js: "+i)}},{key:"escapeStr",value:function(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(i){return this.opt.wildcards!=="disabled"&&(i=this.setupWildcardsRegExp(i)),i=this.escapeStr(i),Object.keys(this.opt.synonyms).length&&(i=this.createSynonymsRegExp(i)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(i=this.setupIgnoreJoinersRegExp(i)),this.opt.diacritics&&(i=this.createDiacriticsRegExp(i)),i=this.createMergedBlanksRegExp(i),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(i=this.createJoinersRegExp(i)),this.opt.wildcards!=="disabled"&&(i=this.createWildcardsRegExp(i)),i=this.createAccuracyRegExp(i),i}},{key:"createSynonymsRegExp",value:function(i){var d=this.opt.synonyms,v=this.opt.caseSensitive?"":"i",k=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var y in d)if(d.hasOwnProperty(y)){var b=d[y],g=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(y):this.escapeStr(y),E=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(b):this.escapeStr(b);g!==""&&E!==""&&(i=i.replace(new RegExp("("+this.escapeStr(g)+"|"+this.escapeStr(E)+")","gm"+v),k+("("+this.processSynomyms(g)+"|")+(this.processSynomyms(E)+")")+k))}return i}},{key:"processSynomyms",value:function(i){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(i=this.setupIgnoreJoinersRegExp(i)),i}},{key:"setupWildcardsRegExp",value:function(i){return i=i.replace(/(?:\\)*\?/g,function(d){return d.charAt(0)==="\\"?"?":""}),i.replace(/(?:\\)*\*/g,function(d){return d.charAt(0)==="\\"?"*":""})}},{key:"createWildcardsRegExp",value:function(i){var d=this.opt.wildcards==="withSpaces";return i.replace(/\u0001/g,d?"[\\S\\s]?":"\\S?").replace(/\u0002/g,d?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(i){return i.replace(/[^(|)\\]/g,function(d,v,k){var y=k.charAt(v+1);return/[(|)\\]/.test(y)||y===""?d:d+"\0"})}},{key:"createJoinersRegExp",value:function(i){var d=[],v=this.opt.ignorePunctuation;return Array.isArray(v)&&v.length&&d.push(this.escapeStr(v.join(""))),this.opt.ignoreJoiners&&d.push("\\u00ad\\u200b\\u200c\\u200d"),d.length?i.split(/\u0000+/).join("["+d.join("")+"]*"):i}},{key:"createDiacriticsRegExp",value:function(i){var d=this.opt.caseSensitive?"":"i",v=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],k=[];return i.split("").forEach(function(y){v.every(function(b){if(b.indexOf(y)!==-1){if(k.indexOf(b)>-1)return!1;i=i.replace(new RegExp("["+b+"]","gm"+d),"["+b+"]"),k.push(b)}return!0})}),i}},{key:"createMergedBlanksRegExp",value:function(i){return i.replace(/[\s]+/gmi,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(i){var d=this,v="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿",k=this.opt.accuracy,y=typeof k=="string"?k:k.value,b=typeof k=="string"?[]:k.limiters,g="";switch(b.forEach(function(E){g+="|"+d.escapeStr(E)}),y){case"partially":default:return"()("+i+")";case"complementary":return g="\\s"+(g||this.escapeStr(v)),"()([^"+g+"]*"+i+"[^"+g+"]*)";case"exactly":return"(^|\\s"+g+")("+i+")(?=$|\\s"+g+")"}}},{key:"getSeparatedKeywords",value:function(i){var d=this,v=[];return i.forEach(function(k){d.opt.separateWordSearch?k.split(" ").forEach(function(y){y.trim()&&v.indexOf(y)===-1&&v.push(y)}):k.trim()&&v.indexOf(k)===-1&&v.push(k)}),{keywords:v.sort(function(k,y){return y.length-k.length}),length:v.length}}},{key:"isNumeric",value:function(i){return Number(parseFloat(i))==i}},{key:"checkRanges",value:function(i){var d=this;if(!Array.isArray(i)||Object.prototype.toString.call(i[0])!=="[object Object]")return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(i),[];var v=[],k=0;return i.sort(function(y,b){return y.start-b.start}).forEach(function(y){var b=d.callNoMatchOnInvalidRanges(y,k),g=b.start,E=b.end,N=b.valid;N&&(y.start=g,y.length=E-g,v.push(y),k=E)}),v}},{key:"callNoMatchOnInvalidRanges",value:function(i,d){var v=void 0,k=void 0,y=!1;return i&&typeof i.start<"u"?(v=parseInt(i.start,10),k=v+parseInt(i.length,10),this.isNumeric(i.start)&&this.isNumeric(i.length)&&k-d>0&&k-v>0?y=!0:(this.log("Ignoring invalid or overlapping range: "+(""+JSON.stringify(i))),this.opt.noMatch(i))):(this.log("Ignoring invalid range: "+JSON.stringify(i)),this.opt.noMatch(i)),{start:v,end:k,valid:y}}},{key:"checkWhitespaceRanges",value:function(i,d,v){var k=void 0,y=!0,b=v.length,g=d-b,E=parseInt(i.start,10)-g;return E=E>b?b:E,k=E+parseInt(i.length,10),k>b&&(k=b,this.log("End range automatically set to the max value of "+b)),E<0||k-E<0||E>b||k>b?(y=!1,this.log("Invalid range: "+JSON.stringify(i)),this.opt.noMatch(i)):v.substring(E,k).replace(/\s+/g,"")===""&&(y=!1,this.log("Skipping whitespace only range: "+JSON.stringify(i)),this.opt.noMatch(i)),{start:E,end:k,valid:y}}},{key:"getTextNodes",value:function(i){var d=this,v="",k=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(y){k.push({start:v.length,end:(v+=y.textContent).length,node:y})},function(y){return d.matchesExclude(y.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){i({value:v,nodes:k})})}},{key:"matchesExclude",value:function(i){return a.matches(i,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(i,d,v){var k=this.opt.element?this.opt.element:"mark",y=i.splitText(d),b=y.splitText(v-d),g=document.createElement(k);return g.setAttribute("data-markjs","true"),this.opt.className&&g.setAttribute("class",this.opt.className),g.textContent=y.textContent,y.parentNode.replaceChild(g,y),b}},{key:"wrapRangeInMappedTextNode",value:function(i,d,v,k,y){var b=this;i.nodes.every(function(g,E){var N=i.nodes[E+1];if(typeof N>"u"||N.start>d){if(!k(g.node))return!1;var I=d-g.start,T=(v>g.end?g.end:v)-g.start,S=i.value.substr(0,g.start),V=i.value.substr(T+g.start);if(g.node=b.wrapRangeInTextNode(g.node,I,T),i.value=S+V,i.nodes.forEach(function(z,J){J>=E&&(i.nodes[J].start>0&&J!==E&&(i.nodes[J].start-=T),i.nodes[J].end-=T)}),v-=T,y(g.node.previousSibling,g.start),v>g.end)d=g.end;else return!1}return!0})}},{key:"wrapMatches",value:function(i,d,v,k,y){var b=this,g=d===0?0:d+1;this.getTextNodes(function(E){E.nodes.forEach(function(N){N=N.node;for(var I=void 0;(I=i.exec(N.textContent))!==null&&I[g]!=="";)if(v(I[g],N)){var T=I.index;if(g!==0)for(var S=1;S<g;S++)T+=I[S].length;N=b.wrapRangeInTextNode(N,T,T+I[g].length),k(N.previousSibling),i.lastIndex=0}}),y()})}},{key:"wrapMatchesAcrossElements",value:function(i,d,v,k,y){var b=this,g=d===0?0:d+1;this.getTextNodes(function(E){for(var N=void 0;(N=i.exec(E.value))!==null&&N[g]!=="";){var I=N.index;if(g!==0)for(var T=1;T<g;T++)I+=N[T].length;var S=I+N[g].length;b.wrapRangeInMappedTextNode(E,I,S,function(V){return v(N[g],V)},function(V,z){i.lastIndex=z,k(V)})}y()})}},{key:"wrapRangeFromIndex",value:function(i,d,v,k){var y=this;this.getTextNodes(function(b){var g=b.value.length;i.forEach(function(E,N){var I=y.checkWhitespaceRanges(E,g,b.value),T=I.start,S=I.end,V=I.valid;V&&y.wrapRangeInMappedTextNode(b,T,S,function(z){return d(z,E,b.value.substring(T,S),N)},function(z){v(z,E)})}),k()})}},{key:"unwrapMatches",value:function(i){for(var d=i.parentNode,v=document.createDocumentFragment();i.firstChild;)v.appendChild(i.removeChild(i.firstChild));d.replaceChild(v,i),this.ie?this.normalizeTextNode(d):d.normalize()}},{key:"normalizeTextNode",value:function(i){if(i){if(i.nodeType===3)for(;i.nextSibling&&i.nextSibling.nodeType===3;)i.nodeValue+=i.nextSibling.nodeValue,i.parentNode.removeChild(i.nextSibling);else this.normalizeTextNode(i.firstChild);this.normalizeTextNode(i.nextSibling)}}},{key:"markRegExp",value:function(i,d){var v=this;this.opt=d,this.log('Searching with expression "'+i+'"');var k=0,y="wrapMatches",b=function(E){k++,v.opt.each(E)};this.opt.acrossElements&&(y="wrapMatchesAcrossElements"),this[y](i,this.opt.ignoreGroups,function(g,E){return v.opt.filter(E,g,k)},b,function(){k===0&&v.opt.noMatch(i),v.opt.done(k)})}},{key:"mark",value:function(i,d){var v=this;this.opt=d;var k=0,y="wrapMatches",b=this.getSeparatedKeywords(typeof i=="string"?[i]:i),g=b.keywords,E=b.length,N=this.opt.caseSensitive?"":"i",I=function T(S){var V=new RegExp(v.createRegExp(S),"gm"+N),z=0;v.log('Searching with expression "'+V+'"'),v[y](V,1,function(J,C){return v.opt.filter(C,S,k,z)},function(J){z++,k++,v.opt.each(J)},function(){z===0&&v.opt.noMatch(S),g[E-1]===S?v.opt.done(k):T(g[g.indexOf(S)+1])})};this.opt.acrossElements&&(y="wrapMatchesAcrossElements"),E===0?this.opt.done(k):I(g[0])}},{key:"markRanges",value:function(i,d){var v=this;this.opt=d;var k=0,y=this.checkRanges(i);y&&y.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(y)),this.wrapRangeFromIndex(y,function(b,g,E,N){return v.opt.filter(b,g,E,N)},function(b,g){k++,v.opt.each(b,g)},function(){v.opt.done(k)})):this.opt.done(k)}},{key:"unmark",value:function(i){var d=this;this.opt=i;var v=this.opt.element?this.opt.element:"*";v+="[data-markjs]",this.opt.className&&(v+="."+this.opt.className),this.log('Removal selector "'+v+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(k){d.unwrapMatches(k)},function(k){var y=a.matches(k,v),b=d.matchesExclude(k);return!y||b?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(i){this._opt=o({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},i)},get:function(){return this._opt}},{key:"iterator",get:function(){return new a(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),_}();function f(_){var c=this,i=new u(_);return this.mark=function(d,v){return i.mark(d,v),c},this.markRegExp=function(d,v){return i.markRegExp(d,v),c},this.markRanges=function(d,v){return i.markRanges(d,v),c},this.unmark=function(d){return i.unmark(d),c},this}return f})})(Kr);function Ml(r,e,s){const t=r.slice();return t[36]=e[s].folder_name,t[37]=e[s].folder_id,t[38]=e[s].subfolder_of,t}function Pl(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y,b,g,E,N,I,T,S,V,z,J,C,M,U,j,H,K,$,R,P,q,le,O,re,ue,ve,_e,ae,D;function Q(de,we){return de[4]?Xr:Zr}let ie=Q(r),ke=ie(r),me=r[4]&&Ol(r),ge=r[1]!==""&&Rl(r);return{c(){e=A("div"),s=A("div"),t=A("span"),l=Z(r[3]),o=L(),ke.c(),a=L(),me&&me.c(),u=L(),f=A("form"),_=A("input"),c=L(),ge&&ge.c(),i=L(),d=A("div"),v=A("div"),k=A("i"),y=L(),b=A("span"),g=Z("New link"),E=L(),N=A("div"),I=A("i"),T=L(),S=A("span"),V=Z("New folder"),z=L(),J=A("div"),C=A("i"),M=L(),U=A("span"),j=Z("Report bug"),H=L(),K=A("div"),$=A("i"),R=L(),P=A("span"),q=Z("Suggest feature"),le=L(),O=A("div"),re=A("i"),ue=L(),ve=A("span"),_e=Z("Contact support"),this.h()},l(de){e=w(de,"DIV",{class:!0});var we=m(e);s=w(we,"DIV",{class:!0});var et=m(s);t=w(et,"SPAN",{class:!0});var qe=m(t);l=X(qe,r[3]),qe.forEach(p),et.forEach(p),o=B(we),ke.l(we),a=B(we),me&&me.l(we),we.forEach(p),u=B(de),f=w(de,"FORM",{class:!0});var Be=m(f);_=w(Be,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,autocomplete:!0,class:!0}),c=B(Be),ge&&ge.l(Be),Be.forEach(p),i=B(de),d=w(de,"DIV",{class:!0});var Oe=m(d);v=w(Oe,"DIV",{class:!0});var ze=m(v);k=w(ze,"I",{class:!0}),m(k).forEach(p),y=B(ze),b=w(ze,"SPAN",{class:!0});var tt=m(b);g=X(tt,"New link"),tt.forEach(p),ze.forEach(p),E=B(Oe),N=w(Oe,"DIV",{class:!0});var He=m(N);I=w(He,"I",{class:!0}),m(I).forEach(p),T=B(He),S=w(He,"SPAN",{class:!0});var Ge=m(S);V=X(Ge,"New folder"),Ge.forEach(p),He.forEach(p),z=B(Oe),J=w(Oe,"DIV",{class:!0});var Qe=m(J);C=w(Qe,"I",{class:!0}),m(C).forEach(p),M=B(Qe),U=w(Qe,"SPAN",{class:!0});var lt=m(U);j=X(lt,"Report bug"),lt.forEach(p),Qe.forEach(p),H=B(Oe),K=w(Oe,"DIV",{class:!0});var Ue=m(K);$=w(Ue,"I",{class:!0}),m($).forEach(p),R=B(Ue),P=w(Ue,"SPAN",{class:!0});var nt=m(P);q=X(nt,"Suggest feature"),nt.forEach(p),Ue.forEach(p),le=B(Oe),O=w(Oe,"DIV",{class:!0});var ot=m(O);re=w(ot,"I",{class:!0}),m(re).forEach(p),ue=B(ot),ve=w(ot,"SPAN",{class:!0});var ht=m(ve);_e=X(ht,"Contact support"),ht.forEach(p),ot.forEach(p),Oe.forEach(p),this.h()},h(){n(t,"class","svelte-1hzmjym"),n(s,"class","active-link svelte-1hzmjym"),n(e,"class","custom-select svelte-1hzmjym"),n(_,"type","search"),n(_,"name","search"),n(_,"id","search"),n(_,"placeholder","Search your links and folders..."),n(_,"autocomplete","off"),n(_,"class","svelte-1hzmjym"),n(f,"class","svelte-1hzmjym"),n(k,"class","las la-plus svelte-1hzmjym"),n(b,"class","svelte-1hzmjym"),n(v,"class","new_link svelte-1hzmjym"),n(I,"class","las la-folder-plus svelte-1hzmjym"),n(S,"class","svelte-1hzmjym"),n(N,"class","new_folder svelte-1hzmjym"),n(C,"class","las la-bug svelte-1hzmjym"),n(U,"class","svelte-1hzmjym"),n(J,"class","report_bug svelte-1hzmjym"),n($,"class","las la-lightbulb svelte-1hzmjym"),n(P,"class","svelte-1hzmjym"),n(K,"class","suggest_feature svelte-1hzmjym"),n(re,"class","las la-question svelte-1hzmjym"),n(ve,"class","svelte-1hzmjym"),n(O,"class","help svelte-1hzmjym"),n(d,"class","actions_menu svelte-1hzmjym")},m(de,we){G(de,e,we),h(e,s),h(s,t),h(t,l),h(e,o),ke.m(e,null),h(e,a),me&&me.m(e,null),G(de,u,we),G(de,f,we),h(f,_),Xe(_,r[1]),h(f,c),ge&&ge.m(f,null),G(de,i,we),G(de,d,we),h(d,v),h(v,k),h(v,y),h(v,b),h(b,g),h(d,E),h(d,N),h(N,I),h(N,T),h(N,S),h(S,V),h(d,z),h(d,J),h(J,C),h(J,M),h(J,U),h(U,j),h(d,H),h(d,K),h(K,$),h(K,R),h(K,P),h(P,q),h(d,le),h(d,O),h(O,re),h(O,ue),h(O,ve),h(ve,_e),ae||(D=[F(e,"click",Y(x(r[11]))),F(e,"keyup",r[26]),F(_,"input",r[29]),F(_,"input",Y(r[12])),F(_,"focus",r[13]),F(f,"submit",Y(x(r[15]))),F(v,"click",Y(x(Ys))),F(v,"keyup",r[24]),F(N,"click",Y(x(wt))),F(N,"keyup",r[23]),F(J,"click",Y(x(rn))),F(J,"keyup",r[22])],ae=!0)},p(de,we){we[0]&8&&Je(l,de[3]),ie!==(ie=Q(de))&&(ke.d(1),ke=ie(de),ke&&(ke.c(),ke.m(e,a))),de[4]?me?me.p(de,we):(me=Ol(de),me.c(),me.m(e,null)):me&&(me.d(1),me=null),we[0]&2&&Xe(_,de[1]),de[1]!==""?ge?ge.p(de,we):(ge=Rl(de),ge.c(),ge.m(f,null)):ge&&(ge.d(1),ge=null)},d(de){de&&p(e),ke.d(),me&&me.d(),de&&p(u),de&&p(f),ge&&ge.d(),de&&p(i),de&&p(d),ae=!1,ye(D)}}}function Zr(r){let e,s,t;return{c(){e=A("div"),s=ne("svg"),t=ne("path"),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=m(e);s=oe(o,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0,class:!0});var a=m(s);t=oe(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(t).forEach(p),a.forEach(p),o.forEach(p),this.h()},h(){n(t,"d","M6 9l6 6 6-6"),n(t,"stroke","#000000"),n(t,"stroke-width","1.5"),n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"class","svelte-1hzmjym"),n(s,"width","24px"),n(s,"height","24px"),n(s,"stroke-width","1.5"),n(s,"viewBox","0 0 24 24"),n(s,"fill","none"),n(s,"xmlns","http://www.w3.org/2000/svg"),n(s,"color","#000000"),n(s,"class","svelte-1hzmjym"),n(e,"class","icon svelte-1hzmjym")},m(l,o){G(l,e,o),h(e,s),h(s,t)},d(l){l&&p(e)}}}function Xr(r){let e,s,t;return{c(){e=A("div"),s=ne("svg"),t=ne("path"),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=m(e);s=oe(o,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0,class:!0});var a=m(s);t=oe(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(t).forEach(p),a.forEach(p),o.forEach(p),this.h()},h(){n(t,"d","M6 15l6-6 6 6"),n(t,"stroke","#000000"),n(t,"stroke-width","1.5"),n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"class","svelte-1hzmjym"),n(s,"width","24px"),n(s,"height","24px"),n(s,"stroke-width","1.5"),n(s,"viewBox","0 0 24 24"),n(s,"fill","none"),n(s,"xmlns","http://www.w3.org/2000/svg"),n(s,"color","#000000"),n(s,"class","svelte-1hzmjym"),n(e,"class","icon svelte-1hzmjym")},m(l,o){G(l,e,o),h(e,s),h(s,t)},d(l){l&&p(e)}}}function Ol(r){let e,s,t,l,o,a,u,f,_,c=r[6]&&r[6].length>0&&Ll(r);return{c(){e=A("div"),s=A("option"),t=Z("My links"),l=L(),o=A("option"),a=Z("Recycle bin"),u=L(),c&&c.c(),this.h()},l(i){e=w(i,"DIV",{class:!0});var d=m(e);s=w(d,"OPTION",{class:!0});var v=m(s);t=X(v,"My links"),v.forEach(p),l=B(d),o=w(d,"OPTION",{class:!0});var k=m(o);a=X(k,"Recycle bin"),k.forEach(p),u=B(d),c&&c.l(d),d.forEach(p),this.h()},h(){s.__value="/appv1/my_links",s.value=s.__value,n(s,"class","svelte-1hzmjym"),ce(s,"active",r[5].url.pathname==="/appv1/my_links"),o.__value="/appv1/my_links/recycle_bin",o.value=o.__value,n(o,"class","svelte-1hzmjym"),ce(o,"active",r[5].url.pathname==="/appv1/my_links/recycle_bin"),n(e,"class","options svelte-1hzmjym")},m(i,d){G(i,e,d),h(e,s),h(s,t),h(e,l),h(e,o),h(o,a),h(e,u),c&&c.m(e,null),f||(_=[F(s,"click",Y(x(r[10]))),F(o,"click",Y(x(r[10]))),F(e,"click",Y(x(Y))),F(e,"keyup",r[27])],f=!0)},p(i,d){d[0]&32&&ce(s,"active",i[5].url.pathname==="/appv1/my_links"),d[0]&32&&ce(o,"active",i[5].url.pathname==="/appv1/my_links/recycle_bin"),i[6]&&i[6].length>0?c?c.p(i,d):(c=Ll(i),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(i){i&&p(e),c&&c.d(),f=!1,ye(_)}}}function Ll(r){let e,s=r[6],t=[];for(let l=0;l<s.length;l+=1)t[l]=Bl(Ml(r,s,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=pe()},l(l){for(let o=0;o<t.length;o+=1)t[o].l(l);e=pe()},m(l,o){for(let a=0;a<t.length;a+=1)t[a].m(l,o);G(l,e,o)},p(l,o){if(o[0]&192){s=l[6];let a;for(a=0;a<s.length;a+=1){const u=Ml(l,s,a);t[a]?t[a].p(u,o):(t[a]=Bl(u),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=s.length}},d(l){Ze(t,l),l&&p(e)}}}function Bl(r){let e,s=r[36]+"",t,l,o,a;function u(){return r[28](r[37])}return{c(){e=A("option"),t=Z(s),this.h()},l(f){e=w(f,"OPTION",{class:!0});var _=m(e);t=X(_,s),_.forEach(p),this.h()},h(){e.__value=l=r[36],e.value=e.__value,n(e,"class","svelte-1hzmjym"),ce(e,"active",r[7]&&r[7].folder_name&&r[7].folder_id===r[37])},m(f,_){G(f,e,_),h(e,t),o||(a=F(e,"click",Y(x(u))),o=!0)},p(f,_){r=f,_[0]&64&&s!==(s=r[36]+"")&&Je(t,s),_[0]&64&&l!==(l=r[36])&&(e.__value=l,e.value=e.__value),_[0]&192&&ce(e,"active",r[7]&&r[7].folder_name&&r[7].folder_id===r[37])},d(f){f&&p(e),o=!1,a()}}}function Rl(r){let e,s,t;return{c(){e=A("i"),this.h()},l(l){e=w(l,"I",{class:!0}),m(e).forEach(p),this.h()},h(){n(e,"class","las la-times svelte-1hzmjym")},m(l,o){G(l,e,o),s||(t=[F(e,"click",r[14]),F(e,"keyup",r[25])],s=!0)},p:fe,d(l){l&&p(e),s=!1,ye(t)}}}function zl(r){let e;function s(o,a){return o[8].Account?en:xr}let t=s(r),l=t(r);return{c(){l.c(),e=pe()},l(o){l.l(o),e=pe()},m(o,a){l.m(o,a),G(o,e,a)},p(o,a){t===(t=s(o))&&l?l.p(o,a):(l.d(1),l=t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l.d(o),o&&p(e)}}}function xr(r){let e,s;return{c(){e=A("img"),this.h()},l(t){e=w(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(e.src,s=$s)||n(e,"src",s),n(e,"alt","profile"),n(e,"class","svelte-1hzmjym")},m(t,l){G(t,e,l)},p:fe,d(t){t&&p(e)}}}function en(r){let e;function s(o,a){var u;return((u=o[8].Account)==null?void 0:u.picture)!==""?ln:tn}let t=s(r),l=t(r);return{c(){l.c(),e=pe()},l(o){l.l(o),e=pe()},m(o,a){l.m(o,a),G(o,e,a)},p(o,a){t===(t=s(o))&&l?l.p(o,a):(l.d(1),l=t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l.d(o),o&&p(e)}}}function tn(r){let e,s;return{c(){e=A("img"),this.h()},l(t){e=w(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(e.src,s=$s)||n(e,"src",s),n(e,"alt","profile"),n(e,"class","svelte-1hzmjym")},m(t,l){G(t,e,l)},p:fe,d(t){t&&p(e)}}}function ln(r){let e,s,t,l;return{c(){e=A("img"),this.h()},l(o){e=w(o,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){var o;We(e.src,s=(o=r[8].Account)==null?void 0:o.picture)||n(e,"src",s),n(e,"alt","profile"),n(e,"class","svelte-1hzmjym")},m(o,a){G(o,e,a),t||(l=[F(e,"click",Bs),F(e,"keyup",r[21])],t=!0)},p(o,a){var u;a[0]&256&&!We(e.src,s=(u=o[8].Account)==null?void 0:u.picture)&&n(e,"src",s)},d(o){o&&p(e),t=!1,ye(l)}}}function Jl(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y,b,g,E,N,I,T,S,V,z,J,C,M,U,j,H,K,$;return{c(){e=A("div"),s=A("div"),t=A("i"),l=L(),o=A("span"),a=Z("My profile"),u=L(),f=A("div"),_=A("i"),c=L(),i=A("span"),d=Z("Suggest feature"),v=L(),k=A("div"),y=A("i"),b=L(),g=A("span"),E=Z("Report bug"),N=L(),I=A("div"),T=A("i"),S=L(),V=A("span"),z=Z("Contact support"),J=L(),C=A("div"),M=A("i"),U=L(),j=A("span"),H=Z("Log Out"),this.h()},l(R){e=w(R,"DIV",{class:!0});var P=m(e);s=w(P,"DIV",{class:!0});var q=m(s);t=w(q,"I",{class:!0}),m(t).forEach(p),l=B(q),o=w(q,"SPAN",{class:!0});var le=m(o);a=X(le,"My profile"),le.forEach(p),q.forEach(p),u=B(P),f=w(P,"DIV",{class:!0});var O=m(f);_=w(O,"I",{class:!0}),m(_).forEach(p),c=B(O),i=w(O,"SPAN",{class:!0});var re=m(i);d=X(re,"Suggest feature"),re.forEach(p),O.forEach(p),v=B(P),k=w(P,"DIV",{class:!0});var ue=m(k);y=w(ue,"I",{class:!0}),m(y).forEach(p),b=B(ue),g=w(ue,"SPAN",{class:!0});var ve=m(g);E=X(ve,"Report bug"),ve.forEach(p),ue.forEach(p),N=B(P),I=w(P,"DIV",{class:!0});var _e=m(I);T=w(_e,"I",{class:!0}),m(T).forEach(p),S=B(_e),V=w(_e,"SPAN",{class:!0});var ae=m(V);z=X(ae,"Contact support"),ae.forEach(p),_e.forEach(p),J=B(P),C=w(P,"DIV",{class:!0});var D=m(C);M=w(D,"I",{class:!0}),m(M).forEach(p),U=B(D),j=w(D,"SPAN",{class:!0});var Q=m(j);H=X(Q,"Log Out"),Q.forEach(p),D.forEach(p),P.forEach(p),this.h()},h(){n(t,"class","las la-cog svelte-1hzmjym"),n(o,"class","svelte-1hzmjym"),n(s,"class","settings svelte-1hzmjym"),n(_,"class","las la-lightbulb svelte-1hzmjym"),n(i,"class","svelte-1hzmjym"),n(f,"class","suggest_feature svelte-1hzmjym"),n(y,"class","las la-bug svelte-1hzmjym"),n(g,"class","svelte-1hzmjym"),n(k,"class","bug svelte-1hzmjym"),n(T,"class","las la-question svelte-1hzmjym"),n(V,"class","svelte-1hzmjym"),n(I,"class","help svelte-1hzmjym"),n(M,"class","las la-sign-out-alt svelte-1hzmjym"),n(j,"class","svelte-1hzmjym"),n(C,"class","logout svelte-1hzmjym"),n(e,"class","profile_hover_popup_menu svelte-1hzmjym")},m(R,P){G(R,e,P),h(e,s),h(s,t),h(s,l),h(s,o),h(o,a),h(e,u),h(e,f),h(f,_),h(f,c),h(f,i),h(i,d),h(e,v),h(e,k),h(k,y),h(k,b),h(k,g),h(g,E),h(e,N),h(e,I),h(I,T),h(I,S),h(I,V),h(V,z),h(e,J),h(e,C),h(C,M),h(C,U),h(C,j),h(j,H),K||($=[F(s,"click",r[30]),F(s,"keyup",r[20])],K=!0)},p:fe,d(R){R&&p(e),K=!1,ye($)}}}function sn(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y,b,g,E,N,I=!r[2]&&Pl(r),T=r[8]&&zl(r),S=r[9]&&r[0].length<1&&Jl(r);return{c(){e=A("svete:head"),s=A("script"),l=L(),o=A("nav"),a=A("div"),I&&I.c(),u=L(),f=A("div"),_=A("div"),T&&T.c(),c=L(),S&&S.c(),i=L(),d=A("div"),v=A("div"),k=L(),y=A("div"),b=L(),g=A("div"),this.h()},l(V){e=w(V,"SVETE:HEAD",{class:!0});var z=m(e);s=w(z,"SCRIPT",{src:!0,crossorigin:!0,class:!0});var J=m(s);J.forEach(p),z.forEach(p),l=B(V),o=w(V,"NAV",{class:!0});var C=m(o);a=w(C,"DIV",{class:!0});var M=m(a);I&&I.l(M),M.forEach(p),u=B(C),f=w(C,"DIV",{class:!0});var U=m(f);_=w(U,"DIV",{class:!0});var j=m(_);T&&T.l(j),c=B(j),S&&S.l(j),j.forEach(p),i=B(U),d=w(U,"DIV",{class:!0});var H=m(d);v=w(H,"DIV",{class:!0}),m(v).forEach(p),k=B(H),y=w(H,"DIV",{class:!0}),m(y).forEach(p),b=B(H),g=w(H,"DIV",{class:!0}),m(g).forEach(p),H.forEach(p),U.forEach(p),C.forEach(p),this.h()},h(){We(s.src,t="https://kit.fontawesome.com/d8939cb1a8.js")||n(s,"src",t),n(s,"crossorigin","anonymous"),n(s,"class","svelte-1hzmjym"),n(e,"class","svelte-1hzmjym"),n(a,"class","nav_links svelte-1hzmjym"),n(_,"class","me svelte-1hzmjym"),n(v,"class","menu_bar svelte-1hzmjym"),n(y,"class","menu_bar middle svelte-1hzmjym"),n(g,"class","menu_bar svelte-1hzmjym"),n(d,"class","menu svelte-1hzmjym"),ce(d,"toggle",r[2]),n(f,"class","profile svelte-1hzmjym"),n(o,"class","svelte-1hzmjym")},m(V,z){G(V,e,z),h(e,s),G(V,l,z),G(V,o,z),h(o,a),I&&I.m(a,null),h(o,u),h(o,f),h(f,_),T&&T.m(_,null),h(_,c),S&&S.m(_,null),h(f,i),h(f,d),h(d,v),h(d,k),h(d,y),h(d,b),h(d,g),E||(N=[F(_,"click",Y(x(Bs))),F(_,"keyup",r[19]),F(d,"click",Y(x($r))),F(d,"keyup",r[18])],E=!0)},p(V,z){V[2]?I&&(I.d(1),I=null):I?I.p(V,z):(I=Pl(V),I.c(),I.m(a,null)),V[8]?T?T.p(V,z):(T=zl(V),T.c(),T.m(_,c)):T&&(T.d(1),T=null),V[9]&&V[0].length<1?S?S.p(V,z):(S=Jl(V),S.c(),S.m(_,null)):S&&(S.d(1),S=null),z[0]&4&&ce(d,"toggle",V[2])},i:fe,o:fe,d(V){V&&p(e),V&&p(l),V&&p(o),I&&I.d(),T&&T.d(),S&&S.d(),E=!1,ye(N)}}}function rn(){console.log()}function nn(r,e,s){let t,l,o,a,u,f,_,c,i,d,v,k;te(r,_t,O=>s(1,l=O)),te(r,De,O=>s(16,o=O)),te(r,Te,O=>s(17,a=O)),te(r,Lt,O=>s(2,u=O)),te(r,mt,O=>s(3,f=O)),te(r,rl,O=>s(4,_=O)),te(r,Re,O=>s(5,c=O)),te(r,sr,O=>s(6,i=O)),te(r,rr,O=>s(7,d=O)),te(r,kl,O=>s(8,v=O)),te(r,nr,O=>s(9,k=O));let y={},b,g;Ls(async()=>{y=await JSON.parse(he()),kl.set(y)});function E(){var re;b=(re=window.event)==null?void 0:re.currentTarget;const O="http://localhost:5173";g=b.value,g==="/appv1/my_links"?mt.set("My links"):g==="/appv1/my_links/recycle_bin"&&mt.set("Recycle bin"),!(g===void 0||g==="")&&(Le(`${O}${g}`),ft())}function N(){be(),_r()}async function I(){if(l===""){st.set([]),rt.set([]);return}await Yr(l)}async function T(){Bt.set(!0)}function S(){gt(_t,l="",l),Bt.set(!1),st.set([]),rt.set([]);const O=document.getElementById("search");O!==null&&O.focus()}async function V(){await I()}function z(O){ee.call(this,r,O)}function J(O){ee.call(this,r,O)}function C(O){ee.call(this,r,O)}function M(O){ee.call(this,r,O)}function U(O){ee.call(this,r,O)}function j(O){ee.call(this,r,O)}function H(O){ee.call(this,r,O)}function K(O){ee.call(this,r,O)}function $(O){ee.call(this,r,O)}function R(O){ee.call(this,r,O)}const P=O=>{Le(`http://localhost:5173/appv1/my_links/${O}`),ft()};function q(){l=this.value,_t.set(l)}const le=()=>{Le("http://localhost:5173/appv1/settings/my_profile")};return r.$$.update=()=>{r.$$.dirty[0]&196608&&s(0,t=[...a,...o])},[t,l,u,f,_,c,i,d,v,k,E,N,I,T,S,V,o,a,z,J,C,M,U,j,H,K,$,R,P,q,le]}class on extends Ve{constructor(e){super(),Me(this,e,nn,sn,Pe,{},null,[-1,-1])}}function an(r,e){const s=r.getBoundingClientRect(),t=window.innerWidth||document.documentElement.clientWidth,l=window.innerHeight||document.documentElement.clientHeight;s.top>=0&&s.left>=0&&s.bottom<=l&&s.right<=t?s.left<10&&(r.style.cssText=`display: flex; left: 1em; top: ${e.clientY}px`):!(s.right<=t)&&!(s.bottom<=l)?r.style.cssText="display: flex; right: 1em; bottom: 1em":s.bottom<=l?s.right<=t||(r.style.cssText=`display: flex; right: 1em; top: ${e.clientY}px`):s.left<10?r.style.cssText="display: flex; left: 1em; bottom: 1em":r.style.cssText=`display: flex; left: ${e.clientX}px; bottom: 1em`}let ql;function zt(r){var l;Os.set(r);let e=(l=window.event)==null?void 0:l.currentTarget;if(e.classList.contains("more_svg")&&(e=e.closest(".link")),Re.subscribe(o=>{ql=o.url.pathname})(),ql==="/appv1/my_links/recycle_bin"&&e.classList.contains("links")){xe(),be();return}or.set(e),e.classList.contains("links")?ut.set(e):e.classList.contains("folder")?ut.set(e):e.classList.contains("link")&&ut.set(e);const t=document.getElementById("context_menu");t!==null&&(t.style.display="flex",t.style.left=`${r.clientX}px`,t.style.top=`${r.clientY}px`,setTimeout(()=>{an(t,r)},5))}function cn(r){let e,s,t,l,o,a,u,f,_,c=r[0].folder_name+"",i,d,v,k=(r[0].folder_updated_at?r[0].folder_updated_at:r[0].folder_created_at)+"",y,b,g,E,N,I,T,S,V,z,J,C,M,U,j,H,K,$,R;return{c(){e=A("div"),s=A("div"),t=A("div"),l=ne("svg"),o=ne("path"),a=L(),u=A("div"),f=A("div"),_=A("span"),i=Z(c),d=L(),v=A("span"),y=Z(k),b=L(),g=A("div"),E=ne("svg"),N=ne("path"),this.h()},l(P){e=w(P,"DIV",{class:!0,"data-folderid":!0,"data-foldername":!0,"data-accountid":!0,"data-folderlabel":!0,"data-folderpath":!0,"data-subfolderof":!0});var q=m(e);s=w(q,"DIV",{class:!0});var le=m(s);t=w(le,"DIV",{class:!0});var O=m(t);l=oe(O,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0,class:!0});var re=m(l);o=oe(re,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(o).forEach(p),re.forEach(p),O.forEach(p),le.forEach(p),a=B(q),u=w(q,"DIV",{class:!0});var ue=m(u);f=w(ue,"DIV",{class:!0});var ve=m(f);_=w(ve,"SPAN",{class:!0});var _e=m(_);i=X(_e,c),_e.forEach(p),d=B(ve),v=w(ve,"SPAN",{class:!0});var ae=m(v);y=X(ae,k),ae.forEach(p),ve.forEach(p),ue.forEach(p),b=B(q),g=w(q,"DIV",{class:!0,"data-folderid":!0,"data-foldername":!0,"data-accountid":!0,"data-folderlabel":!0,"data-folderpath":!0,"data-subfolderof":!0});var D=m(g);E=oe(D,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0,class:!0});var Q=m(E);N=oe(Q,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(N).forEach(p),Q.forEach(p),D.forEach(p),q.forEach(p),this.h()},h(){var P,q;n(o,"d","M2 11V4.6a.6.6 0 01.6-.6h6.178a.6.6 0 01.39.144l3.164 2.712a.6.6 0 00.39.144H21.4a.6.6 0 01.6.6V11M2 11v8.4a.6.6 0 00.6.6h18.8a.6.6 0 00.6-.6V11M2 11h20"),n(o,"stroke","#000000"),n(o,"stroke-width","1.04"),n(o,"stroke-linecap","round"),n(o,"stroke-linejoin","round"),n(o,"class","svelte-140h0g1"),n(l,"width","60px"),n(l,"height","60px"),n(l,"stroke-width","1.04"),n(l,"viewBox","0 0 24 24"),n(l,"fill","none"),n(l,"xmlns","http://www.w3.org/2000/svg"),n(l,"color","#000000"),n(l,"class","svelte-140h0g1"),n(t,"class","icon svelte-140h0g1"),n(s,"class","top svelte-140h0g1"),n(_,"class","folder_name svelte-140h0g1"),n(v,"class","last_update svelte-140h0g1"),n(f,"class","folder-name svelte-140h0g1"),n(u,"class","bottom svelte-140h0g1"),n(N,"d","M5 13l4 4L19 7"),n(N,"stroke","#000000"),n(N,"stroke-width","1.5"),n(N,"stroke-linecap","round"),n(N,"stroke-linejoin","round"),n(N,"class","svelte-140h0g1"),n(E,"width","24px"),n(E,"height","24px"),n(E,"stroke-width","1.5"),n(E,"viewBox","0 0 24 24"),n(E,"fill","none"),n(E,"xmlns","http://www.w3.org/2000/svg"),n(E,"color","#000000"),n(E,"class","svelte-140h0g1"),n(g,"class","check-box svelte-140h0g1"),n(g,"data-folderid",I=r[0].folder_id),n(g,"data-foldername",T=r[0].folder_name),n(g,"data-accountid",S=r[0].account_id),n(g,"data-folderlabel",V=r[0].label),n(g,"data-folderpath",z=r[0].path),n(g,"data-subfolderof",J=(P=r[0].subfolder_of)==null?void 0:P.String),n(e,"class","folder svelte-140h0g1"),n(e,"data-folderid",C=r[0].folder_id),n(e,"data-foldername",M=r[0].folder_name),n(e,"data-accountid",U=r[0].account_id),n(e,"data-folderlabel",j=r[0].label),n(e,"data-folderpath",H=r[0].path),n(e,"data-subfolderof",K=(q=r[0].subfolder_of)==null?void 0:q.String),ce(e,"folder_cut",r[2].map(Hl).includes(r[0].folder_id)),ce(e,"folder-selected",r[1].map(Gl).includes(r[0].folder_id))},m(P,q){G(P,e,q),h(e,s),h(s,t),h(t,l),h(l,o),h(e,a),h(e,u),h(u,f),h(f,_),h(_,i),h(f,d),h(f,v),h(v,y),h(e,b),h(e,g),h(g,E),h(E,N),$||(R=[F(_,"click",Y(x(r[6]))),F(_,"keyup",r[9]),F(g,"click",Y(x(r[3]))),F(g,"keyup",r[8]),F(e,"click",Y(x(r[4]))),F(e,"keyup",r[7]),F(e,"contextmenu",Y(x(r[5])))],$=!0)},p(P,[q]){var le,O;q&1&&c!==(c=P[0].folder_name+"")&&Je(i,c),q&1&&k!==(k=(P[0].folder_updated_at?P[0].folder_updated_at:P[0].folder_created_at)+"")&&Je(y,k),q&1&&I!==(I=P[0].folder_id)&&n(g,"data-folderid",I),q&1&&T!==(T=P[0].folder_name)&&n(g,"data-foldername",T),q&1&&S!==(S=P[0].account_id)&&n(g,"data-accountid",S),q&1&&V!==(V=P[0].label)&&n(g,"data-folderlabel",V),q&1&&z!==(z=P[0].path)&&n(g,"data-folderpath",z),q&1&&J!==(J=(le=P[0].subfolder_of)==null?void 0:le.String)&&n(g,"data-subfolderof",J),q&1&&C!==(C=P[0].folder_id)&&n(e,"data-folderid",C),q&1&&M!==(M=P[0].folder_name)&&n(e,"data-foldername",M),q&1&&U!==(U=P[0].account_id)&&n(e,"data-accountid",U),q&1&&j!==(j=P[0].label)&&n(e,"data-folderlabel",j),q&1&&H!==(H=P[0].path)&&n(e,"data-folderpath",H),q&1&&K!==(K=(O=P[0].subfolder_of)==null?void 0:O.String)&&n(e,"data-subfolderof",K),q&5&&ce(e,"folder_cut",P[2].map(Hl).includes(P[0].folder_id)),q&3&&ce(e,"folder-selected",P[1].map(Gl).includes(P[0].folder_id))},i:fe,o:fe,d(P){P&&p(e),$=!1,ye(R)}}}const Hl=r=>r.folder_id,Gl=r=>r.folder_id;function dn(r,e,s){let t,l,o;te(r,Te,E=>s(1,t=E)),te(r,Rt,E=>s(12,l=E)),te(r,qt,E=>s(2,o=E));let{folder:a}=e,u={},f="";function _(){var N;const E=(N=window.event)==null?void 0:N.currentTarget;E!==null&&(f=E.dataset.subfolderof,f!==void 0&&(u={folder_id:E==null?void 0:E.dataset.folderid,folder_name:E==null?void 0:E.dataset.foldername,subfolder_of:f===""?{String:f,Valid:!1}:{String:f,Valid:!0}},t.map(I=>I.folder_id).includes(u.folder_id)?i(u):c(u),be()))}function c(E){gt(Te,t=[...t,E],t)}function i(E){gt(Te,t=t.filter(N=>N.folder_id!==E.folder_id),t)}function d(){var N;const E=(N=window.event)==null?void 0:N.currentTarget;E!==null&&(f=E.dataset.subfolderof,f!==void 0&&(u={folder_id:E.dataset.folderid,folder_name:E.dataset.foldername,subfolder_of:f===""?{String:f,Valid:!1}:{String:f,Valid:!0}},l?t.map(I=>I.folder_id).includes(u.folder_id)?i(u):c(u):(Te.set([]),c(u),De.set([])),be()))}function v(E){var I;zt(E);const N=(I=window.event)==null?void 0:I.currentTarget;f=N.dataset.subfolderof,f!==void 0&&(u={folder_id:N.dataset.folderid,folder_name:N.dataset.foldername,subfolder_of:f===""?{String:f,Valid:!1}:{String:f,Valid:!0}},t.map(T=>T.folder_id).includes(u.folder_id)||(De.set([]),Te.set([]),c(u)))}function k(){var T;const I=((T=window.event)==null?void 0:T.currentTarget).closest(".folder").dataset.folderid;I!==void 0&&Le(`http://localhost:5173/appv1/my_links/${I}`)}function y(E){ee.call(this,r,E)}function b(E){ee.call(this,r,E)}function g(E){ee.call(this,r,E)}return r.$$set=E=>{"folder"in E&&s(0,a=E.folder)},[a,t,o,_,d,v,k,y,b,g]}class Ut extends Ve{constructor(e){super(),Me(this,e,dn,cn,Pe,{folder:0})}}const Ql="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAF7klEQVRoge2a229VRRTGf20DBNDS04o+KBHoJYAaufhiaIEQ4y0+GSFKoq3EG2JUIEHxyWsIDxr9MxQlJqKABisCYrQCxtiW1qokqIVya0u4y/FhrcXM2WefveecnhJJ+JKdOXtmzdrr23tmzZo1B64hGJP0GlVUlFFXPbAYmA/MBBqBTETmBNALdAG7gHagr4w2lIwMsArYB2RLvPYCL5NP+oqgDtgADHkGDQEXvfsPgWbvvgX4yLu/GOk/CKznChGqAJYDA54BW4FHgXV6fxp4wutjcoZW4IzWrQMeA7Z5ckeANso77HNQC3zqPfBbZD4ALAIuAJeARyL9okQAlqjsBWCh1jUDOz35TYzC12kCfscNoVavbQwyebPA6zF944gAvKn1XarD0AYMa9tvQMMIbb+MOcBhVdwRo3i1tnUDY2P6FyIyFjigbasjbY3AT9p2GJhdou2X0YQj8TVwXaR9PDKms8ADBXQUIgLwIG5ejI+0XQ98gyNT8pfJ4IZTJzAhRuYZbf85QU8SEbRvFngqpm0ibtj2AjWpVkdQQe7EtqGzMqLse21bkaArjcgKbd/j1U3Seht6dn1Ckd5sOW5iv4KsvqbsPOIu13ky1SMgUo2b3GuBz4GzXr9eYA1uzWmNV5OPOtw6YW+6CnGr25SI/5ZOaf0HwHPAfcBdwHTk65lcjdbNU5lngfeALR4Rf7H8CnHTVWrDStx8CXLLG7TDDqAypr0WcZE2yct5DQBPAzfEPLcSt86sjzZGx1sGOIh4jGZgdwGyFUgAOAm4Wx88C5gBTFE9tVranBoEjmu/E8AhZN5160vZrTIZCg/FFmQhHgKmqp5Y2Jqwq5CAolHlDqXIQfocMfytcvUpct+p3EtJQhbFPpyibInKfRZgYCiRzSoXDXEKPbvDr/TnQD2ygp4GvkhRNlfLvQEGhmKflnNS5DYjQec8ZHgBuUQWa9mOuL8kNGn5a5iNQTBdTYlSQmKH/jabc4g0a7kt4KF1Wg4EyIbiSER3ErZq2WIVPpGZWv4SoMjcYzmJHI3oToJ9vRlW4ROxoOxggKJaLY8HyIaiGCJ/aNkYbahENjoXyd0bFMI5xHPEhe1RhHqtsWrDOdLjqTGIrf+iH8M6VCOL0dWIamA4LgS5qlHq0BoXIBs6tMapXJrrh5ihZV/kEnASiTRvCVB0TMsQVxkK0xXiQKYgtp5AbM/xWr1a3hqgaDSITNYyxKVP07LHKnwiXVreEaDIiIS4ylDYSzmWKCW4Xctuq/CJWMR7f4Ai8/k3BsiGwnSFEDEbL0fpPpF2LReRn9GIwj7pbQEPDYXp6kmUEtssqbfdKn0ifUgEOgFJ0yTBItW5iVLFwXTtS5SChxAyHSREIasQF/hDirIGlfsrwMBQ9/uPyk1Pkdujci/6lXFb3T+R1bKFwjtFf6s7H7gJCeBmATfjtrgZ3CFP3Fa3E3EyA2pg2lZ3ARLCDyJ7kZNJjNfjktRxK/9kJEHgZ+TLdVkmvpZ8VCIvNgu8k0TAkMFlSFZqXRWwFJlc/hlIFknlbAHeVYL3ION9GoXTQfci6aD3kf3PqYjO88CX5KaDXtC2forIOLbhkm9rkMXSHnIW2W6u9YiMNEE3hKzQryKbpnNevz4kSWgJusdDSYDMgU3kvqVuJAHnGz1aKdMa4Hl9pm/DxmJIGDLI+UQWmZQTY2Qsib0/QU8akf3aXiiJ3antPYzgdLgBd6zQjiTufIzmsUI17lihn/R8Vypmq6Iskv6Jbi8tqXeA0g96VkXamnA5tn7gzhJtz0MDbpgNI87A4B+9vRHTtxCRt3DD1t8DPYlLavdQhi8RRQ1yPmGG7cKlkBbiDkOXRPrFEVmKOwxdoHW2APsTe9T+MVGBnE/YvMki/n4Z8JrenyH3i0WJtJF7PL0MOUIwuX6KdLEjQQaJAAY9AwbJXSw3kv+HgY+9+7g/DLxNCcdr5UAGyYp3eAYVe/2oOkZEoJz/LpiK5GKbkeCxnvwd5FHEadifarYTlhD8X6Ca5BDmGnz8BzCvMYso8eOgAAAAAElFTkSuQmCC";function un(r){let e,s,t,l,o,a,u,f,_,c,i=r[0].link_title+"",d,v,k,y,b,g,E,N,I,T,S=r[0].link_hostname+"",V,z,J,C,M,U,j,H,K,$,R,P,q,le,O,re,ue,ve,_e,ae,D;return{c(){e=A("div"),s=A("div"),t=A("div"),l=A("img"),a=L(),u=A("div"),f=A("div"),_=A("div"),c=A("span"),d=Z(i),v=L(),k=A("div"),y=A("div"),b=A("div"),g=A("img"),N=L(),I=A("div"),T=A("span"),V=Z(S),z=L(),J=A("div"),C=A("div"),M=ne("svg"),U=ne("path"),j=L(),H=A("div"),K=ne("svg"),$=ne("path"),this.h()},l(Q){e=w(Q,"DIV",{class:!0,"data-linkid":!0,"data-linktitle":!0,"data-accountid":!0,"data-folderid":!0,"data-link_url":!0});var ie=m(e);s=w(ie,"DIV",{class:!0});var ke=m(s);t=w(ke,"DIV",{class:!0});var me=m(t);l=w(me,"IMG",{src:!0,alt:!0,class:!0}),me.forEach(p),ke.forEach(p),a=B(ie),u=w(ie,"DIV",{class:!0});var ge=m(u);f=w(ge,"DIV",{class:!0});var de=m(f);_=w(de,"DIV",{class:!0});var we=m(_);c=w(we,"SPAN",{class:!0});var et=m(c);d=X(et,i),et.forEach(p),we.forEach(p),v=B(de),k=w(de,"DIV",{class:!0});var qe=m(k);y=w(qe,"DIV",{class:!0});var Be=m(y);b=w(Be,"DIV",{class:!0});var Oe=m(b);g=w(Oe,"IMG",{src:!0,alt:!0,class:!0}),Oe.forEach(p),N=B(Be),I=w(Be,"DIV",{class:!0});var ze=m(I);T=w(ze,"SPAN",{class:!0});var tt=m(T);V=X(tt,S),tt.forEach(p),ze.forEach(p),Be.forEach(p),z=B(qe),J=w(qe,"DIV",{class:!0});var He=m(J);C=w(He,"DIV",{class:!0});var Ge=m(C);M=oe(Ge,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0,class:!0});var Qe=m(M);U=oe(Qe,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(U).forEach(p),Qe.forEach(p),Ge.forEach(p),He.forEach(p),qe.forEach(p),de.forEach(p),ge.forEach(p),j=B(ie),H=w(ie,"DIV",{class:!0,"data-linkid":!0,"data-linktitle":!0,"data-accountid":!0,"data-folderid":!0});var lt=m(H);K=oe(lt,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0,class:!0});var Ue=m(K);$=oe(Ue,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m($).forEach(p),Ue.forEach(p),lt.forEach(p),ie.forEach(p),this.h()},h(){var Q,ie;We(l.src,o=r[0].link_thumbnail)||n(l,"src",o),n(l,"alt","card-hero"),n(l,"class","svelte-159v0d7"),n(t,"class","img-container svelte-159v0d7"),n(s,"class","top svelte-159v0d7"),n(c,"class","svelte-159v0d7"),n(_,"class","title svelte-159v0d7"),We(g.src,E=r[0].link_favicon!==""?r[0].link_favicon:Ql)||n(g,"src",E),n(g,"alt","flavicon"),n(g,"class","svelte-159v0d7"),n(b,"class","flavicon-container svelte-159v0d7"),n(T,"class","svelte-159v0d7"),n(I,"class","host svelte-159v0d7"),n(y,"class","flavicon svelte-159v0d7"),n(U,"d","M12 12.5a.5.5 0 100-1 .5.5 0 000 1zM12 18.5a.5.5 0 100-1 .5.5 0 000 1zM12 6.5a.5.5 0 100-1 .5.5 0 000 1z"),n(U,"fill","#000000"),n(U,"stroke","#000000"),n(U,"stroke-width","1.5"),n(U,"stroke-linecap","round"),n(U,"stroke-linejoin","round"),n(U,"class","svelte-159v0d7"),n(M,"width","24px"),n(M,"height","24px"),n(M,"stroke-width","1.5"),n(M,"viewBox","0 0 24 24"),n(M,"fill","none"),n(M,"xmlns","http://www.w3.org/2000/svg"),n(M,"color","#000000"),n(M,"class","more_svg svelte-159v0d7"),n(C,"class","icon svelte-159v0d7"),n(J,"class","menu svelte-159v0d7"),n(k,"class","flavicon_and_menu svelte-159v0d7"),n(f,"class","text-content svelte-159v0d7"),n(u,"class","bottom svelte-159v0d7"),n($,"d","M5 13l4 4L19 7"),n($,"stroke","#000000"),n($,"stroke-width","1.5"),n($,"stroke-linecap","round"),n($,"stroke-linejoin","round"),n($,"class","svelte-159v0d7"),n(K,"width","24px"),n(K,"height","24px"),n(K,"stroke-width","1.5"),n(K,"viewBox","0 0 24 24"),n(K,"fill","none"),n(K,"xmlns","http://www.w3.org/2000/svg"),n(K,"color","#000000"),n(K,"class","svelte-159v0d7"),n(H,"class","check-box svelte-159v0d7"),n(H,"data-linkid",R=r[0].link_id),n(H,"data-linktitle",P=r[0].link_title),n(H,"data-accountid",q=r[0].account_id),n(H,"data-folderid",le=(Q=r[0].folder_id)==null?void 0:Q.String),n(e,"class","link svelte-159v0d7"),n(e,"data-linkid",O=r[0].link_id),n(e,"data-linktitle",re=r[0].link_title),n(e,"data-accountid",ue=r[0].account_id),n(e,"data-folderid",ve=(ie=r[0].folder_id)==null?void 0:ie.String),n(e,"data-link_url",_e=r[0].link_url),ce(e,"link_cut",r[2].map(Ul).includes(r[0].link_id)),ce(e,"link-selected",r[1].map($l).includes(r[0].link_id))},m(Q,ie){G(Q,e,ie),h(e,s),h(s,t),h(t,l),h(e,a),h(e,u),h(u,f),h(f,_),h(_,c),h(c,d),h(f,v),h(f,k),h(k,y),h(y,b),h(b,g),h(y,N),h(y,I),h(I,T),h(T,V),h(k,z),h(k,J),h(J,C),h(C,M),h(M,U),h(e,j),h(e,H),h(H,K),h(K,$),ae||(D=[F(c,"click",Y(x(fn))),F(c,"keyup",r[10]),F(T,"click",Y(x(Y))),F(T,"keyup",r[9]),F(M,"click",Y(x(r[5]))),F(M,"keyup",r[8]),F(H,"click",Y(x(r[3]))),F(H,"keyup",r[7]),F(e,"contextmenu",Y(x(r[5]))),F(e,"click",Y(x(r[4]))),F(e,"keyup",r[6])],ae=!0)},p(Q,[ie]){var ke,me;ie&1&&!We(l.src,o=Q[0].link_thumbnail)&&n(l,"src",o),ie&1&&i!==(i=Q[0].link_title+"")&&Je(d,i),ie&1&&!We(g.src,E=Q[0].link_favicon!==""?Q[0].link_favicon:Ql)&&n(g,"src",E),ie&1&&S!==(S=Q[0].link_hostname+"")&&Je(V,S),ie&1&&R!==(R=Q[0].link_id)&&n(H,"data-linkid",R),ie&1&&P!==(P=Q[0].link_title)&&n(H,"data-linktitle",P),ie&1&&q!==(q=Q[0].account_id)&&n(H,"data-accountid",q),ie&1&&le!==(le=(ke=Q[0].folder_id)==null?void 0:ke.String)&&n(H,"data-folderid",le),ie&1&&O!==(O=Q[0].link_id)&&n(e,"data-linkid",O),ie&1&&re!==(re=Q[0].link_title)&&n(e,"data-linktitle",re),ie&1&&ue!==(ue=Q[0].account_id)&&n(e,"data-accountid",ue),ie&1&&ve!==(ve=(me=Q[0].folder_id)==null?void 0:me.String)&&n(e,"data-folderid",ve),ie&1&&_e!==(_e=Q[0].link_url)&&n(e,"data-link_url",_e),ie&5&&ce(e,"link_cut",Q[2].map(Ul).includes(Q[0].link_id)),ie&3&&ce(e,"link-selected",Q[1].map($l).includes(Q[0].link_id))},i:fe,o:fe,d(Q){Q&&p(e),ae=!1,ye(D)}}}function fn(){var t;const s=((t=window.event)==null?void 0:t.currentTarget).closest(".link").dataset.link_url;s!==void 0&&window.open(s)}const Ul=r=>r.link_id,$l=r=>r.link_id;function hn(r,e,s){let t,l,o;te(r,De,S=>s(1,t=S)),te(r,Rt,S=>s(16,l=S)),te(r,pl,S=>s(2,o=S));let{link:a}=e,u={},f="",_="",c="",i="";function d(){var V;const S=(V=window.event)==null?void 0:V.currentTarget;S!==null&&(f=S.dataset.linktitle,_=S.dataset.linkid,c=S.dataset.accountid,i=S.dataset.folderid,i!==void 0&&(u={link_id:_,link_title:f,account_id:c,folder_id:i===""?{String:i,Valid:!1}:{String:i,Valid:!0}},t.map(z=>z.link_id).includes(u.link_id)?v(u):k(u),be()))}function v(S){gt(De,t=t.filter(V=>V.link_id!==S.link_id),t)}function k(S){gt(De,t=[...t,S],t)}function y(){var V;const S=(V=window.event)==null?void 0:V.currentTarget;f=S==null?void 0:S.dataset.linktitle,_=S==null?void 0:S.dataset.linkid,c=S==null?void 0:S.dataset.accountid,i=S==null?void 0:S.dataset.folderid,i!==void 0&&(u={link_id:_,link_title:f,account_id:c,folder_id:i===""?{String:i,Valid:!1}:{String:i,Valid:!0}},l?t.map(z=>z.link_id).includes(u.link_id)?v(u):k(u):(De.set([]),k(u),Te.set([])),be())}function b(S){var J;zt(S);const z=((J=window.event)==null?void 0:J.currentTarget).closest(".link");i=z.dataset.folderid,i!==void 0&&(u={link_id:z.dataset.linkid,link_title:z.dataset.linktitle,folder_id:i===""?{String:i,Valid:!1}:{String:i,Valid:!0}},t.map(C=>C.link_id).includes(u.link_id)||(Te.set([]),De.set([]),k(u)))}function g(S){ee.call(this,r,S)}function E(S){ee.call(this,r,S)}function N(S){ee.call(this,r,S)}function I(S){ee.call(this,r,S)}function T(S){ee.call(this,r,S)}return r.$$set=S=>{"link"in S&&s(0,a=S.link)},[a,t,o,d,y,b,g,E,N,I,T]}class $t extends Ve{constructor(e){super(),Me(this,e,hn,un,Pe,{link:0})}}let Yl="";function Ws(r){return r===""&&(Yl="Folder name is required"),Yl}let pn=[],ll="",Wl;async function vn(r,e){ct.set(!0);const s=Ws(r);if(s!==""){console.log(s),ct.set(!1);return}e===void 0?ll="null":ll=e,At.set(!1);const t=await fetch("http://localhost:5000/private/folder/create",{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({folder_name:r,parent_folder_id:ll})});try{const o=(await t.json())[0];if(o===null)return;Ke(Ae)!==null?Ae.update(u=>[o,...u]):Ae.set([...pn,o]),ir.set(o),Pt.set("Untitled Folder"),Re.subscribe(u=>{Wl=u.url.pathname})(),ct.set(!1),Wl==="/appv1/my_links/recycle_bin"&&Le("http://localhost:5173/appv1/my_links")}catch(l){console.log(l),ct.set(!1)}}let jt=[],sl="",Kl,Zl;async function Xl(r,e){var u,f;const s=Ws(r);if(s!==""){console.log(s);return}e===""?sl="null":sl=e,At.set(!1);const o=(await(await fetch("http://localhost:5000/private/folder/create",{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({folder_name:r,parent_folder_id:sl})})).json())[0];jt=[...jt,o],$e.set(o),Re.subscribe(_=>{Kl=_.url.pathname})(),Kl==="/appv1/my_links"?(u=o.subfolder_of)!=null&&u.Valid||(Ke(Ae)!==null?Ae.update(_=>[o,..._]):Ae.set(jt)):(Re.subscribe(c=>{Zl=c.params.folder_id})(),(f=o.subfolder_of)!=null&&f.Valid&&Zl===o.subfolder_of.String&&(Ke(Ae)===null?Ae.set([o,...jt]):Ae.update(c=>[o,...c]),console.log("created folder belongs to current folder")))}function xl(r){let e,s;return{c(){e=A("span"),s=Z("Folder name is required"),this.h()},l(t){e=w(t,"SPAN",{class:!0});var l=m(e);s=X(l,"Folder name is required"),l.forEach(p),this.h()},h(){n(e,"class","svelte-1ywh1l3")},m(t,l){G(t,e,l),h(e,s)},d(t){t&&p(e)}}}function es(r){let e,s;return{c(){e=A("span"),s=Z("Folder name must not contain special characters"),this.h()},l(t){e=w(t,"SPAN",{class:!0});var l=m(e);s=X(l,"Folder name must not contain special characters"),l.forEach(p),this.h()},h(){n(e,"class","svelte-1ywh1l3")},m(t,l){G(t,e,l),h(e,s)},d(t){t&&p(e)}}}function _n(r){let e,s,t,l,o,a,u,f,_,c,i,d,v=Ye(r[0]),k,y,b,g,E,N,I,T,S,V,z,J,C=r[0]===""&&xl(),M=v&&es();return{c(){e=A("div"),s=A("form"),t=A("div"),l=A("div"),o=A("div"),a=ne("svg"),u=ne("path"),f=L(),_=A("input"),c=L(),i=A("div"),C&&C.c(),d=L(),M&&M.c(),k=L(),y=A("div"),b=A("div"),g=A("button"),E=A("span"),N=Z("Create"),I=L(),T=A("button"),S=A("span"),V=Z("Cancel"),this.h()},l(U){e=w(U,"DIV",{class:!0});var j=m(e);s=w(j,"FORM",{class:!0});var H=m(s);t=w(H,"DIV",{class:!0});var K=m(t);l=w(K,"DIV",{class:!0});var $=m(l);o=w($,"DIV",{class:!0});var R=m(o);a=oe(R,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var P=m(a);u=oe(P,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(u).forEach(p),P.forEach(p),R.forEach(p),f=B($),_=w($,"INPUT",{id:!0,type:!0,placeholder:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0,class:!0}),$.forEach(p),K.forEach(p),c=B(H),i=w(H,"DIV",{class:!0});var q=m(i);C&&C.l(q),d=B(q),M&&M.l(q),q.forEach(p),k=B(H),y=w(H,"DIV",{class:!0});var le=m(y);b=w(le,"DIV",{class:!0});var O=m(b);g=w(O,"BUTTON",{type:!0,class:!0});var re=m(g);E=w(re,"SPAN",{class:!0});var ue=m(E);N=X(ue,"Create"),ue.forEach(p),re.forEach(p),I=B(O),T=w(O,"BUTTON",{class:!0});var ve=m(T);S=w(ve,"SPAN",{class:!0});var _e=m(S);V=X(_e,"Cancel"),_e.forEach(p),ve.forEach(p),O.forEach(p),le.forEach(p),H.forEach(p),j.forEach(p),this.h()},h(){n(u,"d","M2 11V4.6a.6.6 0 01.6-.6h6.178a.6.6 0 01.39.144l3.164 2.712a.6.6 0 00.39.144H21.4a.6.6 0 01.6.6V11M2 11v8.4a.6.6 0 00.6.6h18.8a.6.6 0 00.6-.6V11M2 11h20"),n(u,"stroke","#000000"),n(u,"stroke-width","1.5"),n(u,"stroke-linecap","round"),n(u,"stroke-linejoin","round"),n(u,"class","svelte-1ywh1l3"),n(a,"width","24px"),n(a,"height","24px"),n(a,"stroke-width","1.5"),n(a,"viewBox","0 0 24 24"),n(a,"fill","none"),n(a,"xmlns","http://www.w3.org/2000/svg"),n(a,"color","#000000"),n(o,"class","folder-icon svelte-1ywh1l3"),n(_,"id","create-folder-input"),n(_,"type","text"),n(_,"placeholder","Enter folder name..."),n(_,"autocomplete","off"),n(_,"autocorrect","off"),n(_,"spellcheck","false"),n(_,"class","svelte-1ywh1l3"),n(l,"class","input svelte-1ywh1l3"),ce(l,"outline-red",r[0]===""||Ye(r[0])),n(t,"class","top svelte-1ywh1l3"),n(i,"class","errors svelte-1ywh1l3"),n(E,"class","svelte-1ywh1l3"),n(g,"type","submit"),n(g,"class","svelte-1ywh1l3"),ce(g,"disabled",r[0]===""||Ye(r[0])),n(S,"class","svelte-1ywh1l3"),n(T,"class","svelte-1ywh1l3"),n(b,"class","buttons svelte-1ywh1l3"),n(y,"class","bottom svelte-1ywh1l3"),n(s,"class","svelte-1ywh1l3"),n(e,"class","create-folder svelte-1ywh1l3")},m(U,j){G(U,e,j),h(e,s),h(s,t),h(t,l),h(l,o),h(o,a),h(a,u),h(l,f),h(l,_),Xe(_,r[0]),h(s,c),h(s,i),C&&C.m(i,null),h(i,d),M&&M.m(i,null),h(s,k),h(s,y),h(y,b),h(b,g),h(g,E),h(E,N),h(b,I),h(b,T),h(T,S),h(S,V),z||(J=[F(_,"input",r[4]),F(g,"click",Y(x(r[1])),{once:!0}),F(T,"click",Y(x(wt))),F(s,"click",Y(x(Y))),F(s,"keypress",r[3]),F(s,"submit",r[5]),F(e,"click",Y(x(wt))),F(e,"keydown",r[2])],z=!0)},p(U,[j]){j&1&&_.value!==U[0]&&Xe(_,U[0]),j&1&&ce(l,"outline-red",U[0]===""||Ye(U[0])),U[0]===""?C||(C=xl(),C.c(),C.m(i,d)):C&&(C.d(1),C=null),j&1&&(v=Ye(U[0])),v?M||(M=es(),M.c(),M.m(i,null)):M&&(M.d(1),M=null),j&1&&ce(g,"disabled",U[0]===""||Ye(U[0]))},i:fe,o:fe,d(U){U&&p(e),C&&C.d(),M&&M.d(),z=!1,ye(J)}}}function mn(r,e,s){let t,l,o,a;te(r,Re,d=>s(6,t=d)),te(r,Pt,d=>s(0,l=d)),te(r,$e,d=>s(7,o=d)),te(r,dt,d=>s(8,a=d));async function u(){a?(console.log("move items mode on"),o.folder_id!==void 0?await Xl(l,o.folder_id):(console.log(o.folder_id),await Xl(l,""))):await vn(l,t.params.folder_id)}function f(d){ee.call(this,r,d)}function _(d){ee.call(this,r,d)}function c(){l=this.value,Pt.set(l)}return[l,u,f,_,c,()=>{console.log("submited")}]}class kn extends Ve{constructor(e){super(),Me(this,e,mn,_n,Pe,{})}}const gn=""+new URL("../../../../assets/si_Move-0fba84a1.svg",import.meta.url).href;function Tt(r,e){Te.set([]),De.set([]),Te.update(s=>[...s,...r]),De.update(s=>[...s,...e])}let Dt=[];async function An(){if(Te.subscribe(e=>{Dt=e})(),Dt.length===1&&Dt[0].folder_id!==void 0)try{const e=Dt[0].folder_id,t=`http://localhost:5000/private/link/get_folder_links/${JSON.parse(he()).Account.id}/${e}`,a=(await(await fetch(t,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`}})).json())[0];for(let u=0;u<a.length;u++){const f=a[u];f.link_url!==void 0&&setTimeout(()=>{window.open(f.link_url)},200)}}catch(e){console.log(e)}}let Ct;function wn(){be(),ut.subscribe(r=>{Ct=r,console.log(Ct)}),Ct.classList.contains("folder")?zs():Ct.classList.contains("link")&&Js()}async function yn(r){const e=await fetch("http://localhost:5000/private/folder/deleteFoldersForever",{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({folder_ids:r.map(s=>s.folder_id)})});try{if(r=(await e.json())[0],r===null)return;for(let t=0;t<r.length;t++){const l=r[t];Ae.update(o=>o.filter(a=>a.folder_id!==l.folder_id))}xe(),be()}catch(s){console.log(s)}}async function bn(r){const e=await fetch("http://localhost:5000/private/link/deleteLinksForever",{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({link_ids:r.map(s=>s.link_id)})});try{if(r=(await e.json())[0],r===null)return;for(let t=0;t<r.length;t++){const l=r[t];je.update(o=>o.filter(a=>a.link_id!==l.link_id))}xe(),be()}catch(s){console.log(s)}}let Ft,Vt;async function En(r,e){const s=await fetch("http://localhost:5000/private/folder/deleteFoldersForever",{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({folder_ids:r.map(l=>l.folder_id)})}),t=await fetch("http://localhost:5000/private/link/deleteLinksForever",{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({link_ids:e.map(l=>l.link_id)})});try{const l=await Promise.all([s,t]),o=await l[0].json(),a=await l[1].json();if(Ft=o[0],Vt=a[0],Ft!==null)for(let u=0;u<Ft.length;u++){const f=Ft[u];Ae.update(_=>_.filter(c=>c.folder_id!==f.folder_id))}if(Vt!==null)for(let u=0;u<Vt.length;u++){const f=Vt[u];je.update(_=>_.filter(c=>c.link_id!==f.link_id))}xe(),be()}catch(l){console.log(l)}}function In(r){let e=r[8]&&r[8].classList.contains("folder"),s,t=r[8]&&r[8].classList.contains("links"),l,o=r[8]&&r[8].classList.contains("links")||r[8]&&r[8].classList.contains("folder"),a,u=r[8]&&r[8].classList.contains("folder")||r[8]&&r[8].classList.contains("link"),f,_=e&&ts(r),c=t&&ls(r),i=o&&ss(r),d=u&&rs(r);return{c(){_&&_.c(),s=L(),c&&c.c(),l=L(),i&&i.c(),a=L(),d&&d.c(),f=pe()},l(v){_&&_.l(v),s=B(v),c&&c.l(v),l=B(v),i&&i.l(v),a=B(v),d&&d.l(v),f=pe()},m(v,k){_&&_.m(v,k),G(v,s,k),c&&c.m(v,k),G(v,l,k),i&&i.m(v,k),G(v,a,k),d&&d.m(v,k),G(v,f,k)},p(v,k){k&256&&(e=v[8]&&v[8].classList.contains("folder")),e?_?_.p(v,k):(_=ts(v),_.c(),_.m(s.parentNode,s)):_&&(_.d(1),_=null),k&256&&(t=v[8]&&v[8].classList.contains("links")),t?c?c.p(v,k):(c=ls(v),c.c(),c.m(l.parentNode,l)):c&&(c.d(1),c=null),k&256&&(o=v[8]&&v[8].classList.contains("links")||v[8]&&v[8].classList.contains("folder")),o?i?i.p(v,k):(i=ss(v),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null),k&256&&(u=v[8]&&v[8].classList.contains("folder")||v[8]&&v[8].classList.contains("link")),u?d?d.p(v,k):(d=rs(v),d.c(),d.m(f.parentNode,f)):d&&(d.d(1),d=null)},d(v){_&&_.d(v),v&&p(s),c&&c.d(v),v&&p(l),i&&i.d(v),v&&p(a),d&&d.d(v),v&&p(f)}}}function Nn(r){let e=r[8]&&r[8].classList.contains("folder")||r[8]&&r[8].classList.contains("link"),s,t=e&&ns(r);return{c(){t&&t.c(),s=pe()},l(l){t&&t.l(l),s=pe()},m(l,o){t&&t.m(l,o),G(l,s,o)},p(l,o){o&256&&(e=l[8]&&l[8].classList.contains("folder")||l[8]&&l[8].classList.contains("link")),e?t?t.p(l,o):(t=ns(l),t.c(),t.m(s.parentNode,s)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&p(s)}}}function ts(r){let e,s,t,l,o,a,u,f,_;return{c(){e=A("div"),s=A("div"),t=ne("svg"),l=ne("path"),o=L(),a=A("span"),u=Z("Open all links"),this.h()},l(c){e=w(c,"DIV",{class:!0});var i=m(e);s=w(i,"DIV",{class:!0});var d=m(s);t=oe(d,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var v=m(t);l=oe(v,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(l).forEach(p),v.forEach(p),d.forEach(p),o=B(i),a=w(i,"SPAN",{class:!0});var k=m(a);u=X(k,"Open all links"),k.forEach(p),i.forEach(p),this.h()},h(){n(l,"d","M8 21h12.4a.6.6 0 00.6-.6V3.6a.6.6 0 00-.6-.6H3.6a.6.6 0 00-.6.6V16M10 6h8M6 6h1M3.5 20.5L12 12m0 0v4m0-4H8"),n(l,"stroke","#000000"),n(l,"stroke-width","1.5"),n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"class","svelte-1iqh7hf"),n(t,"width","24px"),n(t,"height","24px"),n(t,"stroke-width","1.5"),n(t,"viewBox","0 0 24 24"),n(t,"fill","none"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"color","#000000"),n(s,"class","icon svelte-1iqh7hf"),n(a,"class","svelte-1iqh7hf"),n(e,"class","open_all svelte-1iqh7hf"),ce(e,"button_disabled",r[0].length>1)},m(c,i){G(c,e,i),h(e,s),h(s,t),h(t,l),h(e,o),h(e,a),h(a,u),f||(_=[F(e,"click",Y(x(r[13]))),F(e,"keyup",r[27])],f=!0)},p(c,i){i&1&&ce(e,"button_disabled",c[0].length>1)},d(c){c&&p(e),f=!1,ye(_)}}}function ls(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y,b,g,E,N,I,T,S,V,z,J;return{c(){e=A("div"),s=A("div"),t=ne("svg"),l=ne("path"),o=L(),a=A("span"),u=Z("New link"),f=L(),_=A("div"),c=A("div"),i=ne("svg"),d=ne("path"),v=L(),k=A("span"),y=Z("New folder"),b=L(),g=A("div"),E=A("div"),N=ne("svg"),I=ne("path"),T=L(),S=A("span"),V=Z("Select all"),this.h()},l(C){e=w(C,"DIV",{class:!0});var M=m(e);s=w(M,"DIV",{class:!0});var U=m(s);t=oe(U,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var j=m(t);l=oe(j,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(l).forEach(p),j.forEach(p),U.forEach(p),o=B(M),a=w(M,"SPAN",{class:!0});var H=m(a);u=X(H,"New link"),H.forEach(p),M.forEach(p),f=B(C),_=w(C,"DIV",{class:!0});var K=m(_);c=w(K,"DIV",{class:!0});var $=m(c);i=oe($,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var R=m(i);d=oe(R,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(d).forEach(p),R.forEach(p),$.forEach(p),v=B(K),k=w(K,"SPAN",{class:!0});var P=m(k);y=X(P,"New folder"),P.forEach(p),K.forEach(p),b=B(C),g=w(C,"DIV",{class:!0});var q=m(g);E=w(q,"DIV",{class:!0});var le=m(E);N=oe(le,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var O=m(N);I=oe(O,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(I).forEach(p),O.forEach(p),le.forEach(p),T=B(q),S=w(q,"SPAN",{class:!0});var re=m(S);V=X(re,"Select all"),re.forEach(p),q.forEach(p),this.h()},h(){n(l,"d","M6 12h6m6 0h-6m0 0V6m0 6v6"),n(l,"stroke","#000000"),n(l,"stroke-width","1.5"),n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"class","svelte-1iqh7hf"),n(t,"width","26px"),n(t,"height","26px"),n(t,"stroke-width","1.5"),n(t,"viewBox","0 0 24 24"),n(t,"fill","none"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"color","#000000"),n(s,"class","icon icon_new_link svelte-1iqh7hf"),n(a,"class","svelte-1iqh7hf"),n(e,"class","new_link svelte-1iqh7hf"),n(d,"d","M18 6h2m2 0h-2m0 0V4m0 2v2M21.4 20H2.6a.6.6 0 01-.6-.6V11h19.4a.6.6 0 01.6.6v7.8a.6.6 0 01-.6.6zM2 11V4.6a.6.6 0 01.6-.6h6.178a.6.6 0 01.39.144l3.164 2.712a.6.6 0 00.39.144H14"),n(d,"stroke","#000000"),n(d,"stroke-width","1.5"),n(d,"stroke-linecap","round"),n(d,"stroke-linejoin","round"),n(d,"class","svelte-1iqh7hf"),n(i,"width","18px"),n(i,"height","18px"),n(i,"stroke-width","1.5"),n(i,"viewBox","0 0 24 24"),n(i,"fill","none"),n(i,"xmlns","http://www.w3.org/2000/svg"),n(i,"color","#000000"),n(c,"class","icon svelte-1iqh7hf"),n(k,"class","svelte-1iqh7hf"),n(_,"class","new_folder svelte-1iqh7hf"),n(I,"d","M8 12h4m4 0h-4m0 0V8m0 4v4M7 4H4v3M4 11v2M11 4h2M11 20h2M20 11v2M17 4h3v3M7 20H4v-3M17 20h3v-3"),n(I,"stroke","#000000"),n(I,"stroke-width","1.5"),n(I,"stroke-linecap","round"),n(I,"stroke-linejoin","round"),n(I,"class","svelte-1iqh7hf"),n(N,"width","24px"),n(N,"height","24px"),n(N,"stroke-width","1.5"),n(N,"viewBox","0 0 24 24"),n(N,"fill","none"),n(N,"xmlns","http://www.w3.org/2000/svg"),n(N,"color","#000000"),n(E,"class","icon svelte-1iqh7hf"),n(S,"class","svelte-1iqh7hf"),n(g,"class","select_all svelte-1iqh7hf"),ce(g,"button_display_none",r[9].type==="click"),ce(g,"button_disabled",r[3].length<1)},m(C,M){G(C,e,M),h(e,s),h(s,t),h(t,l),h(e,o),h(e,a),h(a,u),G(C,f,M),G(C,_,M),h(_,c),h(c,i),h(i,d),h(_,v),h(_,k),h(k,y),G(C,b,M),G(C,g,M),h(g,E),h(E,N),h(N,I),h(g,T),h(g,S),h(S,V),z||(J=[F(e,"click",Y(x(Ys))),F(e,"keyup",r[26]),F(_,"click",Y(x(wt))),F(_,"keyup",r[25]),F(g,"click",Y(x(r[12]))),F(g,"keyup",r[24])],z=!0)},p(C,M){M&512&&ce(g,"button_display_none",C[9].type==="click"),M&8&&ce(g,"button_disabled",C[3].length<1)},d(C){C&&p(e),C&&p(f),C&&p(_),C&&p(b),C&&p(g),z=!1,ye(J)}}}function ss(r){let e,s,t,l,o,a,u,f=r[8].classList.contains("folder")?"Paste into folder":"Paste here",_,c,i;return{c(){e=A("div"),s=A("div"),t=ne("svg"),l=ne("path"),o=ne("path"),a=L(),u=A("span"),_=Z(f),this.h()},l(d){e=w(d,"DIV",{class:!0});var v=m(e);s=w(v,"DIV",{class:!0});var k=m(s);t=oe(k,"svg",{width:!0,height:!0,viewBox:!0,"stroke-width":!0,fill:!0,xmlns:!0,color:!0});var y=m(t);l=oe(y,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,class:!0}),m(l).forEach(p),o=oe(y,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,class:!0}),m(o).forEach(p),y.forEach(p),k.forEach(p),a=B(v),u=w(v,"SPAN",{class:!0});var b=m(u);_=X(b,f),b.forEach(p),v.forEach(p),this.h()},h(){n(l,"d","M8.5 4H6a2 2 0 00-2 2v14a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-2.5"),n(l,"stroke","#000000"),n(l,"stroke-width","1.5"),n(l,"stroke-linecap","round"),n(l,"class","svelte-1iqh7hf"),n(o,"d","M8 6.4V4.5a.5.5 0 01.5-.5c.276 0 .504-.224.552-.496C9.2 2.652 9.774 1 12 1s2.8 1.652 2.948 2.504c.048.272.276.496.552.496a.5.5 0 01.5.5v1.9a.6.6 0 01-.6.6H8.6a.6.6 0 01-.6-.6z"),n(o,"stroke","#000000"),n(o,"stroke-width","1.5"),n(o,"stroke-linecap","round"),n(o,"class","svelte-1iqh7hf"),n(t,"width","24px"),n(t,"height","24px"),n(t,"viewBox","0 0 24 24"),n(t,"stroke-width","1.5"),n(t,"fill","none"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"color","#000000"),n(s,"class","icon svelte-1iqh7hf"),n(u,"class","svelte-1iqh7hf"),n(e,"class","paste svelte-1iqh7hf"),ce(e,"button_display_none",r[9].type==="click"),ce(e,"button_disabled",r[7].length<1&&r[6].length<1||r[7]&&r[2]&&r[7].some(r[28])&&r[8].classList.contains("links")||r[6]&&r[1]&&r[6].some(r[29])&&r[8].classList.contains("links"))},m(d,v){G(d,e,v),h(e,s),h(s,t),h(t,l),h(t,o),h(e,a),h(e,u),h(u,_),c||(i=[F(e,"click",Y(x(r[11]))),F(e,"keyup",r[23])],c=!0)},p(d,v){v&256&&f!==(f=d[8].classList.contains("folder")?"Paste into folder":"Paste here")&&Je(_,f),v&512&&ce(e,"button_display_none",d[9].type==="click"),v&454&&ce(e,"button_disabled",d[7].length<1&&d[6].length<1||d[7]&&d[2]&&d[7].some(d[28])&&d[8].classList.contains("links")||d[6]&&d[1]&&d[6].some(d[29])&&d[8].classList.contains("links"))},d(d){d&&p(e),c=!1,ye(i)}}}function rs(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y,b,g,E,N,I,T,S,V,z,J,C,M,U,j,H,K,$,R;return{c(){e=A("div"),s=A("div"),t=ne("svg"),l=ne("path"),o=L(),a=A("span"),u=Z("Rename"),f=L(),_=A("div"),c=A("div"),i=A("img"),v=L(),k=A("span"),y=Z("Move to"),b=L(),g=A("div"),E=A("div"),N=ne("svg"),I=ne("path"),T=L(),S=A("span"),V=Z("Cut"),z=L(),J=A("div"),C=A("div"),M=ne("svg"),U=ne("path"),j=L(),H=A("span"),K=Z("Delete"),this.h()},l(P){e=w(P,"DIV",{class:!0});var q=m(e);s=w(q,"DIV",{class:!0});var le=m(s);t=oe(le,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var O=m(t);l=oe(O,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(l).forEach(p),O.forEach(p),le.forEach(p),o=B(q),a=w(q,"SPAN",{class:!0});var re=m(a);u=X(re,"Rename"),re.forEach(p),q.forEach(p),f=B(P),_=w(P,"DIV",{class:!0});var ue=m(_);c=w(ue,"DIV",{class:!0});var ve=m(c);i=w(ve,"IMG",{src:!0,alt:!0,class:!0}),ve.forEach(p),v=B(ue),k=w(ue,"SPAN",{class:!0});var _e=m(k);y=X(_e,"Move to"),_e.forEach(p),ue.forEach(p),b=B(P),g=w(P,"DIV",{class:!0});var ae=m(g);E=w(ae,"DIV",{class:!0});var D=m(E);N=oe(D,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var Q=m(N);I=oe(Q,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(I).forEach(p),Q.forEach(p),D.forEach(p),T=B(ae),S=w(ae,"SPAN",{class:!0});var ie=m(S);V=X(ie,"Cut"),ie.forEach(p),ae.forEach(p),z=B(P),J=w(P,"DIV",{class:!0});var ke=m(J);C=w(ke,"DIV",{class:!0});var me=m(C);M=oe(me,"svg",{width:!0,height:!0,viewBox:!0,"stroke-width":!0,fill:!0,xmlns:!0,color:!0});var ge=m(M);U=oe(ge,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(U).forEach(p),ge.forEach(p),me.forEach(p),j=B(ke),H=w(ke,"SPAN",{class:!0});var de=m(H);K=X(de,"Delete"),de.forEach(p),ke.forEach(p),this.h()},h(){n(l,"d","M13.02 5.828L15.85 3l4.949 4.95-2.829 2.828m-4.95-4.95l-9.606 9.607a1 1 0 00-.293.707v4.536h4.536a1 1 0 00.707-.293l9.606-9.607m-4.95-4.95l4.95 4.95"),n(l,"stroke","#000000"),n(l,"stroke-width","1.5"),n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"class","svelte-1iqh7hf"),n(t,"width","18px"),n(t,"height","18px"),n(t,"stroke-width","1.5"),n(t,"viewBox","0 0 24 24"),n(t,"fill","none"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"color","#000000"),n(s,"class","icon svelte-1iqh7hf"),n(a,"class","svelte-1iqh7hf"),n(e,"class","rename svelte-1iqh7hf"),ce(e,"button_disabled",r[4].length>1),We(i.src,d=gn)||n(i,"src",d),n(i,"alt","move"),n(i,"class","svelte-1iqh7hf"),n(c,"class","icon icon_move svelte-1iqh7hf"),n(k,"class","svelte-1iqh7hf"),n(_,"class","move_to svelte-1iqh7hf"),n(I,"d","M6.236 8a3 3 0 10-4.472-4 3 3 0 004.472 4zm0 0L16 16M17 12h1M22 12h1M6.236 16a3 3 0 11-4.472 4 3 3 0 014.472-4zm0 0L16 8"),n(I,"stroke","#000000"),n(I,"stroke-width","1.5"),n(I,"stroke-linecap","round"),n(I,"stroke-linejoin","round"),n(I,"class","svelte-1iqh7hf"),n(N,"width","24px"),n(N,"height","24px"),n(N,"stroke-width","1.5"),n(N,"viewBox","0 0 24 24"),n(N,"fill","none"),n(N,"xmlns","http://www.w3.org/2000/svg"),n(N,"color","#000000"),n(E,"class","icon svelte-1iqh7hf"),n(S,"class","svelte-1iqh7hf"),n(g,"class","cut svelte-1iqh7hf"),n(U,"d","M20 9l-1.995 11.346A2 2 0 0116.035 22h-8.07a2 2 0 01-1.97-1.654L4 9M21 6h-5.625M3 6h5.625m0 0V4a2 2 0 012-2h2.75a2 2 0 012 2v2m-6.75 0h6.75"),n(U,"stroke","#000000"),n(U,"stroke-width","1.5"),n(U,"stroke-linecap","round"),n(U,"stroke-linejoin","round"),n(U,"class","svelte-1iqh7hf"),n(M,"width","18px"),n(M,"height","18px"),n(M,"viewBox","0 0 24 24"),n(M,"stroke-width","1.5"),n(M,"fill","none"),n(M,"xmlns","http://www.w3.org/2000/svg"),n(M,"color","#000000"),n(C,"class","icon svelte-1iqh7hf"),n(H,"class","svelte-1iqh7hf"),n(J,"class","delete svelte-1iqh7hf")},m(P,q){G(P,e,q),h(e,s),h(s,t),h(t,l),h(e,o),h(e,a),h(a,u),G(P,f,q),G(P,_,q),h(_,c),h(c,i),h(_,v),h(_,k),h(k,y),G(P,b,q),G(P,g,q),h(g,E),h(E,N),h(N,I),h(g,T),h(g,S),h(S,V),G(P,z,q),G(P,J,q),h(J,C),h(C,M),h(M,U),h(J,j),h(J,H),h(H,K),$||(R=[F(e,"click",Y(x(wn))),F(e,"keyup",r[22]),F(_,"click",Y(x(Rs))),F(_,"keyup",r[21]),F(g,"click",Y(x(r[10]))),F(g,"keyup",r[20]),F(J,"click",Y(x(it))),F(J,"keyup",r[19])],$=!0)},p(P,q){q&16&&ce(e,"button_disabled",P[4].length>1)},d(P){P&&p(e),P&&p(f),P&&p(_),P&&p(b),P&&p(g),P&&p(z),P&&p(J),$=!1,ye(R)}}}function ns(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y,b,g,E;return{c(){e=A("div"),s=A("div"),t=ne("svg"),l=ne("path"),o=ne("path"),a=L(),u=A("span"),f=Z("Restore"),_=L(),c=A("div"),i=A("div"),d=ne("svg"),v=ne("path"),k=L(),y=A("span"),b=Z("Delete forever"),this.h()},l(N){e=w(N,"DIV",{class:!0});var I=m(e);s=w(I,"DIV",{class:!0});var T=m(s);t=oe(T,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var S=m(t);l=oe(S,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(l).forEach(p),o=oe(S,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(o).forEach(p),S.forEach(p),T.forEach(p),a=B(I),u=w(I,"SPAN",{class:!0});var V=m(u);f=X(V,"Restore"),V.forEach(p),I.forEach(p),_=B(N),c=w(N,"DIV",{class:!0});var z=m(c);i=w(z,"DIV",{class:!0});var J=m(i);d=oe(J,"svg",{width:!0,height:!0,viewBox:!0,"stroke-width":!0,fill:!0,xmlns:!0,color:!0});var C=m(d);v=oe(C,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(v).forEach(p),C.forEach(p),J.forEach(p),k=B(z),y=w(z,"SPAN",{class:!0});var M=m(y);b=X(M,"Delete forever"),M.forEach(p),z.forEach(p),this.h()},h(){n(l,"d","M4 6v6s0 3 7 3 7-3 7-3V6"),n(l,"stroke","#000000"),n(l,"stroke-width","1.5"),n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"class","svelte-1iqh7hf"),n(o,"d","M11 3c7 0 7 3 7 3s0 3-7 3-7-3-7-3 0-3 7-3zM11 21c-7 0-7-3-7-3v-6M19 22v-6m0 0l3 3m-3-3l-3 3"),n(o,"stroke","#000000"),n(o,"stroke-width","1.5"),n(o,"stroke-linecap","round"),n(o,"stroke-linejoin","round"),n(o,"class","svelte-1iqh7hf"),n(t,"width","24px"),n(t,"height","24px"),n(t,"stroke-width","1.5"),n(t,"viewBox","0 0 24 24"),n(t,"fill","none"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"color","#000000"),n(s,"class","icon svelte-1iqh7hf"),n(u,"class","svelte-1iqh7hf"),n(e,"class","restore svelte-1iqh7hf"),n(v,"d","M20 9l-1.995 11.346A2 2 0 0116.035 22h-8.07a2 2 0 01-1.97-1.654L4 9M21 6h-5.625M3 6h5.625m0 0V4a2 2 0 012-2h2.75a2 2 0 012 2v2m-6.75 0h6.75"),n(v,"stroke","#000000"),n(v,"stroke-width","1.5"),n(v,"stroke-linecap","round"),n(v,"stroke-linejoin","round"),n(v,"class","svelte-1iqh7hf"),n(d,"width","24px"),n(d,"height","24px"),n(d,"viewBox","0 0 24 24"),n(d,"stroke-width","1.5"),n(d,"fill","none"),n(d,"xmlns","http://www.w3.org/2000/svg"),n(d,"color","#000000"),n(i,"class","icon svelte-1iqh7hf"),n(y,"class","svelte-1iqh7hf"),n(c,"class","delete_forever svelte-1iqh7hf")},m(N,I){G(N,e,I),h(e,s),h(s,t),h(t,l),h(t,o),h(e,a),h(e,u),h(u,f),G(N,_,I),G(N,c,I),h(c,i),h(i,d),h(d,v),h(c,k),h(c,y),h(y,b),g||(E=[F(e,"click",Y(x(r[14]))),F(e,"keyup",r[18]),F(c,"click",Y(x(r[15]))),F(c,"keyup",r[17])],g=!0)},p:fe,d(N){N&&p(e),N&&p(_),N&&p(c),g=!1,ye(E)}}}function Sn(r){let e;function s(o,a){return o[5].url.pathname==="/appv1/my_links/recycle_bin"?Nn:In}let t=s(r),l=t(r);return{c(){e=A("div"),l.c(),this.h()},l(o){e=w(o,"DIV",{class:!0,id:!0});var a=m(e);l.l(a),a.forEach(p),this.h()},h(){n(e,"class","context_menu svelte-1iqh7hf"),n(e,"id","context_menu")},m(o,a){G(o,e,a),l.m(e,null)},p(o,[a]){t===(t=s(o))&&l?l.p(o,a):(l.d(1),l=t(o),l&&(l.c(),l.m(e,null)))},i:fe,o:fe,d(o){o&&p(e),l.d()}}}function jn(r,e,s){let t,l,o,a,u,f,_,c,i,d;te(r,De,R=>s(16,l=R)),te(r,Te,R=>s(0,o=R)),te(r,je,R=>s(1,a=R)),te(r,Ae,R=>s(2,u=R)),te(r,Re,R=>s(5,f=R)),te(r,pl,R=>s(6,_=R)),te(r,qt,R=>s(7,c=R)),te(r,ut,R=>s(8,i=R)),te(r,Os,R=>s(9,d=R));let v=[];function k(){be(),o.length>0&&l.length<1?(fr(),gl(o)):o.length<1&&l.length>0?(hr(),Al(l)):o.length>0&&l.length>0&&(gl(o),Al(l))}async function y(){be(),i.classList.contains("folder")&&o.length===1?c.length>0&&_.length<1?await dl(c,o[0].folder_id):c.length<1&&_.length>0?o[0].folder_id!==void 0&&await kt(_,o[0].folder_id):c.length>0&&_.length>0&&await ul(c,_,o[0].folder_id):i.classList.contains("links")&&(f.url.pathname==="/appv1/my_links"?c.length>0&&_.length<1?await Qs(c):c.length<1&&_.length>0?await kt(_,""):c.length>0&&_.length>0&&await Us(c,_,""):c.length>0&&_.length<1?await dl(c,f.params.folder_id):c.length<1&&_.length>0?await kt(_,f.params.folder_id):c.length>0&&_.length>0&&await ul(c,_,f.params.folder_id))}function b(){be(),u===null&&a===null?Tt([],[]):u===null&&a!==null?Tt([],a):u!==null&&a===null?Tt(u,[]):u!==null&&a!==null&&Tt(u,a)}async function g(){be(),await An()}async function E(){console.log(o,l),o&&l&&o.length>0&&l.length>0?(console.log("restore links and folders"),await qs(o,l)):o&&o.length>0&&l&&l.length<1?(console.log("restore folders"),await Hs(o)):o&&l&&o.length<1&&l.length>0&&(console.log("restore links"),await Gs(l))}async function N(){console.log(o,l),o&&l&&o.length>0&&l.length>0?(console.log("permanently delete links and folders"),await En(o,l)):o&&o.length>0&&l&&l.length<1?(console.log("permanently delete folders"),await yn(o)):o&&l&&o.length<1&&l.length>0&&(console.log("permanently delete links"),await bn(l))}function I(R){ee.call(this,r,R)}function T(R){ee.call(this,r,R)}function S(R){ee.call(this,r,R)}function V(R){ee.call(this,r,R)}function z(R){ee.call(this,r,R)}function J(R){ee.call(this,r,R)}function C(R){ee.call(this,r,R)}function M(R){ee.call(this,r,R)}function U(R){ee.call(this,r,R)}function j(R){ee.call(this,r,R)}function H(R){ee.call(this,r,R)}const K=R=>u.map(P=>P.folder_id).includes(R.folder_id),$=R=>a.map(P=>P.link_id).includes(R.link_id);return r.$$.update=()=>{r.$$.dirty&65537&&s(4,t=[...o,...l]),r.$$.dirty&6&&(u===null&&a===null?s(3,v=[]):u===null&&a!==null?s(3,v=[...a]):u!==null&&a===null?s(3,v=[...u]):u!==null&&a!==null&&s(3,v=[...u,...a]))},[o,a,u,v,t,f,_,c,i,d,k,y,b,g,E,N,l,I,T,S,V,z,J,C,M,U,j,H,K,$]}class Tn extends Ve{constructor(e){super(),Me(this,e,jn,Sn,Pe,{})}}let Dn=[],os;async function Cn(r,e){if(console.log("adding link..."),r==="https://example.com")return;Ht.set(!1),ol.set(!0),setTimeout(()=>{ol.set(!1)},3e3);const s=await fetch("http://localhost:5000/private/link/add",{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer${JSON.parse(he()).access_token}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({url:r,folder_id:e})});try{const t=await s.json();if(t[0]===null){console.log("no result returned");return}if(t.message){il.set(!0),setTimeout(()=>{il.set(!1)},3e3);return}const l=t[0];Ke(je)!==null?je.update(a=>[l,...a]):je.set([...Dn,l]),Mt.set("https://example.com"),Re.subscribe(a=>{os=a.url.pathname})(),os==="/appv1/my_links/recycle_bin"&&Le("http://localhost:5173/appv1/my_links")}catch(t){alert(t)}}function Fn(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y;return{c(){e=A("div"),s=A("form"),t=A("div"),l=A("input"),o=L(),a=A("div"),u=A("button"),f=A("span"),_=Z("Add"),c=L(),i=A("button"),d=A("span"),v=Z("Cancel"),this.h()},l(b){e=w(b,"DIV",{class:!0});var g=m(e);s=w(g,"FORM",{class:!0});var E=m(s);t=w(E,"DIV",{class:!0});var N=m(t);l=w(N,"INPUT",{type:!0,id:!0,placeholder:!0,pattern:!0,autocomplete:!0,autocorrect:!0,spellcheck:!0,class:!0}),N.forEach(p),o=B(E),a=w(E,"DIV",{class:!0});var I=m(a);u=w(I,"BUTTON",{type:!0,class:!0});var T=m(u);f=w(T,"SPAN",{class:!0});var S=m(f);_=X(S,"Add"),S.forEach(p),T.forEach(p),c=B(I),i=w(I,"BUTTON",{class:!0});var V=m(i);d=w(V,"SPAN",{class:!0});var z=m(d);v=X(z,"Cancel"),z.forEach(p),V.forEach(p),I.forEach(p),E.forEach(p),g.forEach(p),this.h()},h(){n(l,"type","url"),n(l,"id","url_input"),n(l,"placeholder","https://example.com"),n(l,"pattern","https://.*"),n(l,"autocomplete","off"),n(l,"autocorrect","off"),n(l,"spellcheck","false"),n(l,"class","svelte-1cbh0qk"),n(t,"class","input_wrapper svelte-1cbh0qk"),n(f,"class","svelte-1cbh0qk"),n(u,"type","submit"),n(u,"class","svelte-1cbh0qk"),ce(u,"disabled",r[0]===""||r[0]==="https://example.com"),n(d,"class","svelte-1cbh0qk"),n(i,"class","svelte-1cbh0qk"),n(a,"class","buttons svelte-1cbh0qk"),n(s,"class","svelte-1cbh0qk"),n(e,"class","add_link_form_wrapper svelte-1cbh0qk")},m(b,g){G(b,e,g),h(e,s),h(s,t),h(t,l),Xe(l,r[0]),h(s,o),h(s,a),h(a,u),h(u,f),h(f,_),h(a,c),h(a,i),h(i,d),h(d,v),k||(y=[F(l,"input",r[5]),F(l,"contextmenu",Y(Y)),F(u,"click",Y(x(r[2]))),F(i,"click",Y(x(r[1]))),F(s,"click",Y(x(Y))),F(s,"keyup",r[4]),F(e,"click",Y(x(r[1]))),F(e,"keyup",r[3])],k=!0)},p(b,[g]){g&1&&Xe(l,b[0]),g&1&&ce(u,"disabled",b[0]===""||b[0]==="https://example.com")},i:fe,o:fe,d(b){b&&p(e),k=!1,ye(y)}}}function Vn(r,e,s){let t,l;te(r,al,c=>s(6,t=c)),te(r,Mt,c=>s(0,l=c));function o(){Ht.set(!1),Mt.set("https://example.com")}function a(){Cn(l,t)}function u(c){ee.call(this,r,c)}function f(c){ee.call(this,r,c)}function _(){l=this.value,Mt.set(l)}return[l,o,a,u,f,_]}class Mn extends Ve{constructor(e){super(),Me(this,e,Vn,Fn,Pe,{})}}function is(r){let e,s;return{c(){e=A("div"),s=A("div"),this.h()},l(t){e=w(t,"DIV",{class:!0});var l=m(e);s=w(l,"DIV",{class:!0}),m(s).forEach(p),l.forEach(p),this.h()},h(){n(s,"class","loader svelte-1f84j2i"),n(e,"class","loader_container svelte-1f84j2i")},m(t,l){G(t,e,l),h(e,s)},d(t){t&&p(e)}}}function Pn(r){let e,s=r[0]&&is();return{c(){s&&s.c(),e=pe()},l(t){s&&s.l(t),e=pe()},m(t,l){s&&s.m(t,l),G(t,e,l)},p(t,[l]){t[0]?s||(s=is(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:fe,o:fe,d(t){s&&s.d(t),t&&p(e)}}}function On(r,e,s){let t;return te(r,ct,l=>s(0,t=l)),[t]}class Ln extends Ve{constructor(e){super(),Me(this,e,On,Pn,Pe,{})}}async function Bn(){const r=window.localStorage.getItem("session");if(r===null){Le("http://localhost:5173/accounts/sign_in");return}const s=await(await fetch("http://localhost:5000/public/checkIfIsAuthenticated",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({token:JSON.parse(r).access_token})})).json();if(s.message){if(s.message==="account not found"){Le("http://localhost:5173/accounts/sign_in");return}else if(s.message==="user not found"){Le("http://localhost:5173/accounts/sign_in");return}else if(s.message==="false"){Le("http://localhost:5173/accounts/sign_in");return}}}function as(r){let e,s,t,l,o,a,u,f,_,c;return{c(){e=A("div"),s=A("div"),t=ne("svg"),l=ne("path"),o=L(),a=A("span"),u=Z("Your link is being added 💪"),f=L(),_=ne("svg"),c=ne("path"),this.h()},l(i){e=w(i,"DIV",{class:!0});var d=m(e);s=w(d,"DIV",{class:!0});var v=m(s);t=oe(v,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var k=m(t);l=oe(k,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(l).forEach(p),k.forEach(p),v.forEach(p),o=B(d),a=w(d,"SPAN",{class:!0});var y=m(a);u=X(y,"Your link is being added 💪"),y.forEach(p),f=B(d),_=oe(d,"svg",{class:!0,width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var b=m(_);c=oe(b,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(c).forEach(p),b.forEach(p),d.forEach(p),this.h()},h(){n(l,"d","M5 13l4 4L19 7"),n(l,"stroke","#000000"),n(l,"stroke-width","1.5"),n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"class","svelte-dkn8iw"),n(t,"width","24px"),n(t,"height","24px"),n(t,"stroke-width","1.5"),n(t,"viewBox","0 0 24 24"),n(t,"fill","none"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"color","#000000"),n(s,"class","check svelte-dkn8iw"),n(a,"class","svelte-dkn8iw"),n(c,"d","M6.758 17.243L12.001 12m5.243-5.243L12 12m0 0L6.758 6.757M12.001 12l5.243 5.243"),n(c,"stroke","#000000"),n(c,"stroke-width","1.5"),n(c,"stroke-linecap","round"),n(c,"stroke-linejoin","round"),n(c,"class","svelte-dkn8iw"),n(_,"class","cancel svelte-dkn8iw"),n(_,"width","24px"),n(_,"height","24px"),n(_,"stroke-width","1.5"),n(_,"viewBox","0 0 24 24"),n(_,"fill","none"),n(_,"xmlns","http://www.w3.org/2000/svg"),n(_,"color","#000000"),n(e,"class","success_notif svelte-dkn8iw")},m(i,d){G(i,e,d),h(e,s),h(s,t),h(t,l),h(e,o),h(e,a),h(a,u),h(e,f),h(e,_),h(_,c)},d(i){i&&p(e)}}}function Rn(r){let e,s=r[0]&&as();return{c(){s&&s.c(),e=pe()},l(t){s&&s.l(t),e=pe()},m(t,l){s&&s.m(t,l),G(t,e,l)},p(t,[l]){t[0]?s||(s=as(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:fe,o:fe,d(t){s&&s.d(t),t&&p(e)}}}function zn(r,e,s){let t;return te(r,ol,l=>s(0,t=l)),[t]}class Jn extends Ve{constructor(e){super(),Me(this,e,zn,Rn,Pe,{})}}function cs(r){let e,s,t,l,o,a,u,f,_,c;return{c(){e=A("div"),s=A("div"),t=ne("svg"),l=ne("path"),o=L(),a=A("span"),u=Z("Ouch! Something went wrong! 😞"),f=L(),_=ne("svg"),c=ne("path"),this.h()},l(i){e=w(i,"DIV",{class:!0});var d=m(e);s=w(d,"DIV",{class:!0});var v=m(s);t=oe(v,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var k=m(t);l=oe(k,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(l).forEach(p),k.forEach(p),v.forEach(p),o=B(d),a=w(d,"SPAN",{class:!0});var y=m(a);u=X(y,"Ouch! Something went wrong! 😞"),y.forEach(p),f=B(d),_=oe(d,"svg",{class:!0,width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var b=m(_);c=oe(b,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(c).forEach(p),b.forEach(p),d.forEach(p),this.h()},h(){n(l,"d","M9 22l3-3m3-3l-3 3m0 0l-3-3m3 3l3 3M20 17.607c1.494-.585 3-1.918 3-4.607 0-4-3.333-5-5-5 0-2 0-6-6-6S6 6 6 8c-1.667 0-5 1-5 5 0 2.689 1.506 4.022 3 4.607"),n(l,"stroke","#000000"),n(l,"stroke-width","1.5"),n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"class","svelte-xmbm9y"),n(t,"width","24px"),n(t,"height","24px"),n(t,"stroke-width","1.5"),n(t,"viewBox","0 0 24 24"),n(t,"fill","none"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"color","#000000"),n(s,"class","err svelte-xmbm9y"),n(a,"class","svelte-xmbm9y"),n(c,"d","M6.758 17.243L12.001 12m5.243-5.243L12 12m0 0L6.758 6.757M12.001 12l5.243 5.243"),n(c,"stroke","#000000"),n(c,"stroke-width","1.5"),n(c,"stroke-linecap","round"),n(c,"stroke-linejoin","round"),n(c,"class","svelte-xmbm9y"),n(_,"class","cancel svelte-xmbm9y"),n(_,"width","24px"),n(_,"height","24px"),n(_,"stroke-width","1.5"),n(_,"viewBox","0 0 24 24"),n(_,"fill","none"),n(_,"xmlns","http://www.w3.org/2000/svg"),n(_,"color","#000000"),n(e,"class","error_notif svelte-xmbm9y")},m(i,d){G(i,e,d),h(e,s),h(s,t),h(t,l),h(e,o),h(e,a),h(a,u),h(e,f),h(e,_),h(_,c)},d(i){i&&p(e)}}}function qn(r){let e,s=r[0]&&cs();return{c(){s&&s.c(),e=pe()},l(t){s&&s.l(t),e=pe()},m(t,l){s&&s.m(t,l),G(t,e,l)},p(t,[l]){t[0]?s||(s=cs(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:fe,o:fe,d(t){s&&s.d(t),t&&p(e)}}}function Hn(r,e,s){let t;return te(r,il,l=>s(0,t=l)),[t]}class Gn extends Ve{constructor(e){super(),Me(this,e,Hn,qn,Pe,{})}}function Qn(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y,b,g,E,N,I,T,S,V,z,J,C,M,U,j,H,K,$,R,P,q,le;return{c(){e=A("div"),s=A("div"),t=A("i"),l=L(),o=A("span"),a=Z("New link"),u=L(),f=A("div"),_=A("i"),c=L(),i=A("span"),d=Z("New folder"),v=L(),k=A("div"),y=A("i"),b=L(),g=A("span"),E=Z("Search"),N=L(),I=A("div"),T=A("i"),S=L(),V=A("span"),z=Z("My profile"),J=L(),C=A("div"),M=A("i"),U=L(),j=A("span"),H=Z("Help"),K=L(),$=A("div"),R=A("i"),P=L(),q=A("span"),le=Z("Log Out"),this.h()},l(O){e=w(O,"DIV",{class:!0});var re=m(e);s=w(re,"DIV",{class:!0});var ue=m(s);t=w(ue,"I",{class:!0}),m(t).forEach(p),l=B(ue),o=w(ue,"SPAN",{class:!0});var ve=m(o);a=X(ve,"New link"),ve.forEach(p),ue.forEach(p),u=B(re),f=w(re,"DIV",{class:!0});var _e=m(f);_=w(_e,"I",{class:!0}),m(_).forEach(p),c=B(_e),i=w(_e,"SPAN",{class:!0});var ae=m(i);d=X(ae,"New folder"),ae.forEach(p),_e.forEach(p),v=B(re),k=w(re,"DIV",{class:!0});var D=m(k);y=w(D,"I",{class:!0}),m(y).forEach(p),b=B(D),g=w(D,"SPAN",{class:!0});var Q=m(g);E=X(Q,"Search"),Q.forEach(p),D.forEach(p),N=B(re),I=w(re,"DIV",{class:!0});var ie=m(I);T=w(ie,"I",{class:!0}),m(T).forEach(p),S=B(ie),V=w(ie,"SPAN",{class:!0});var ke=m(V);z=X(ke,"My profile"),ke.forEach(p),ie.forEach(p),J=B(re),C=w(re,"DIV",{class:!0});var me=m(C);M=w(me,"I",{class:!0}),m(M).forEach(p),U=B(me),j=w(me,"SPAN",{class:!0});var ge=m(j);H=X(ge,"Help"),ge.forEach(p),me.forEach(p),K=B(re),$=w(re,"DIV",{class:!0});var de=m($);R=w(de,"I",{class:!0}),m(R).forEach(p),P=B(de),q=w(de,"SPAN",{class:!0});var we=m(q);le=X(we,"Log Out"),we.forEach(p),de.forEach(p),re.forEach(p),this.h()},h(){n(t,"class","las la-plus svelte-1pewz0m"),n(o,"class","svelte-1pewz0m"),n(s,"class","new_link svelte-1pewz0m"),n(_,"class","las la-folder-plus svelte-1pewz0m"),n(i,"class","svelte-1pewz0m"),n(f,"class","new_folder svelte-1pewz0m"),n(y,"class","las la-search svelte-1pewz0m"),n(g,"class","svelte-1pewz0m"),n(k,"class","search svelte-1pewz0m"),n(T,"class","las la-user svelte-1pewz0m"),n(V,"class","svelte-1pewz0m"),n(I,"class","my_profile svelte-1pewz0m"),n(M,"class","las la-headset svelte-1pewz0m"),n(j,"class","svelte-1pewz0m"),n(C,"class","help svelte-1pewz0m"),n(R,"class","las la-sign-out-alt svelte-1pewz0m"),n(q,"class","svelte-1pewz0m"),n($,"class","logout svelte-1pewz0m"),n(e,"class","menu svelte-1pewz0m"),ce(e,"menu_visible",r[0])},m(O,re){G(O,e,re),h(e,s),h(s,t),h(s,l),h(s,o),h(o,a),h(e,u),h(e,f),h(f,_),h(f,c),h(f,i),h(i,d),h(e,v),h(e,k),h(k,y),h(k,b),h(k,g),h(g,E),h(e,N),h(e,I),h(I,T),h(I,S),h(I,V),h(V,z),h(e,J),h(e,C),h(C,M),h(C,U),h(C,j),h(j,H),h(e,K),h(e,$),h($,R),h($,P),h($,q),h(q,le)},p(O,[re]){re&1&&ce(e,"menu_visible",O[0])},i:fe,o:fe,d(O){O&&p(e)}}}function Un(r,e,s){let t;return te(r,Lt,l=>s(0,t=l)),[t]}class $n extends Ve{constructor(e){super(),Me(this,e,Un,Qn,Pe,{})}}function ds(r,e,s){const t=r.slice();return t[8]=e[s],t}function us(r,e,s){const t=r.slice();return t[11]=e[s],t}function fs(r,e,s){const t=r.slice();return t[8]=e[s],t}function hs(r,e,s){const t=r.slice();return t[11]=e[s],t}function ps(r){let e,s,t,l,o,a;const u=[Zn,Kn,Wn,Yn],f=[];function _(c,i){return c[2].length>0&&c[3].length>0?0:c[2].length>0&&c[3].length<1?1:c[2].length<1&&c[3].length>0?2:c[2].length===0&&c[3].length===0?3:-1}return~(s=_(r))&&(t=f[s]=u[s](r)),{c(){e=A("div"),t&&t.c(),this.h()},l(c){e=w(c,"DIV",{class:!0});var i=m(e);t&&t.l(i),i.forEach(p),this.h()},h(){n(e,"class","search_results svelte-1j9p7gf")},m(c,i){G(c,e,i),~s&&f[s].m(e,null),l=!0,o||(a=[F(e,"click",Y(x(r[4]))),F(e,"keyup",r[5])],o=!0)},p(c,i){let d=s;s=_(c),s===d?~s&&f[s].p(c,i):(t&&(Ce(),se(f[d],1,1,()=>{f[d]=null}),Fe()),~s?(t=f[s],t?t.p(c,i):(t=f[s]=u[s](c),t.c()),W(t,1),t.m(e,null)):t=null)},i(c){l||(W(t),l=!0)},o(c){se(t),l=!1},d(c){c&&p(e),~s&&f[s].d(),o=!1,ye(a)}}}function Yn(r){let e,s;return{c(){e=A("span"),s=Z("Nothing was found!"),this.h()},l(t){e=w(t,"SPAN",{class:!0});var l=m(e);s=X(l,"Nothing was found!"),l.forEach(p),this.h()},h(){n(e,"class","svelte-1j9p7gf")},m(t,l){G(t,e,l),h(e,s)},p:fe,i:fe,o:fe,d(t){t&&p(e)}}}function Wn(r){let e,s,t=r[3],l=[];for(let a=0;a<t.length;a+=1)l[a]=vs(ds(r,t,a));const o=a=>se(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=pe()},l(a){for(let u=0;u<l.length;u+=1)l[u].l(a);e=pe()},m(a,u){for(let f=0;f<l.length;f+=1)l[f].m(a,u);G(a,e,u),s=!0},p(a,u){if(u&8){t=a[3];let f;for(f=0;f<t.length;f+=1){const _=ds(a,t,f);l[f]?(l[f].p(_,u),W(l[f],1)):(l[f]=vs(_),l[f].c(),W(l[f],1),l[f].m(e.parentNode,e))}for(Ce(),f=t.length;f<l.length;f+=1)o(f);Fe()}},i(a){if(!s){for(let u=0;u<t.length;u+=1)W(l[u]);s=!0}},o(a){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)se(l[u]);s=!1},d(a){Ze(l,a),a&&p(e)}}}function Kn(r){let e,s,t=r[2],l=[];for(let a=0;a<t.length;a+=1)l[a]=_s(us(r,t,a));const o=a=>se(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=pe()},l(a){for(let u=0;u<l.length;u+=1)l[u].l(a);e=pe()},m(a,u){for(let f=0;f<l.length;f+=1)l[f].m(a,u);G(a,e,u),s=!0},p(a,u){if(u&4){t=a[2];let f;for(f=0;f<t.length;f+=1){const _=us(a,t,f);l[f]?(l[f].p(_,u),W(l[f],1)):(l[f]=_s(_),l[f].c(),W(l[f],1),l[f].m(e.parentNode,e))}for(Ce(),f=t.length;f<l.length;f+=1)o(f);Fe()}},i(a){if(!s){for(let u=0;u<t.length;u+=1)W(l[u]);s=!0}},o(a){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)se(l[u]);s=!1},d(a){Ze(l,a),a&&p(e)}}}function Zn(r){let e,s,t,l=r[2],o=[];for(let c=0;c<l.length;c+=1)o[c]=ms(hs(r,l,c));const a=c=>se(o[c],1,1,()=>{o[c]=null});let u=r[3],f=[];for(let c=0;c<u.length;c+=1)f[c]=ks(fs(r,u,c));const _=c=>se(f[c],1,1,()=>{f[c]=null});return{c(){for(let c=0;c<o.length;c+=1)o[c].c();e=L();for(let c=0;c<f.length;c+=1)f[c].c();s=pe()},l(c){for(let i=0;i<o.length;i+=1)o[i].l(c);e=B(c);for(let i=0;i<f.length;i+=1)f[i].l(c);s=pe()},m(c,i){for(let d=0;d<o.length;d+=1)o[d].m(c,i);G(c,e,i);for(let d=0;d<f.length;d+=1)f[d].m(c,i);G(c,s,i),t=!0},p(c,i){if(i&4){l=c[2];let d;for(d=0;d<l.length;d+=1){const v=hs(c,l,d);o[d]?(o[d].p(v,i),W(o[d],1)):(o[d]=ms(v),o[d].c(),W(o[d],1),o[d].m(e.parentNode,e))}for(Ce(),d=l.length;d<o.length;d+=1)a(d);Fe()}if(i&8){u=c[3];let d;for(d=0;d<u.length;d+=1){const v=fs(c,u,d);f[d]?(f[d].p(v,i),W(f[d],1)):(f[d]=ks(v),f[d].c(),W(f[d],1),f[d].m(s.parentNode,s))}for(Ce(),d=u.length;d<f.length;d+=1)_(d);Fe()}},i(c){if(!t){for(let i=0;i<l.length;i+=1)W(o[i]);for(let i=0;i<u.length;i+=1)W(f[i]);t=!0}},o(c){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)se(o[i]);f=f.filter(Boolean);for(let i=0;i<f.length;i+=1)se(f[i]);t=!1},d(c){Ze(o,c),c&&p(e),Ze(f,c),c&&p(s)}}}function vs(r){let e,s;return e=new $t({props:{link:r[8]}}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},p(t,l){const o={};l&8&&(o.link=t[8]),e.$set(o)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function _s(r){let e,s;return e=new Ut({props:{folder:r[11]}}),e.$on("click",r[7]),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},p(t,l){const o={};l&4&&(o.folder=t[11]),e.$set(o)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function ms(r){let e,s;return e=new Ut({props:{folder:r[11]}}),e.$on("click",r[6]),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},p(t,l){const o={};l&4&&(o.folder=t[11]),e.$set(o)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function ks(r){let e,s;return e=new $t({props:{link:r[8]}}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},p(t,l){const o={};l&8&&(o.link=t[8]),e.$set(o)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function Xn(r){let e,s,t=r[0]&&r[1]!==""&&ps(r);return{c(){t&&t.c(),e=pe()},l(l){t&&t.l(l),e=pe()},m(l,o){t&&t.m(l,o),G(l,e,o),s=!0},p(l,[o]){l[0]&&l[1]!==""?t?(t.p(l,o),o&3&&W(t,1)):(t=ps(l),t.c(),W(t,1),t.m(e.parentNode,e)):t&&(Ce(),se(t,1,1,()=>{t=null}),Fe())},i(l){s||(W(t),s=!0)},o(l){se(t),s=!1},d(l){t&&t.d(l),l&&p(e)}}}function xn(r,e,s){let t,l,o,a;te(r,Bt,i=>s(0,t=i)),te(r,_t,i=>s(1,l=i)),te(r,st,i=>s(2,o=i)),te(r,rt,i=>s(3,a=i));function u(){_t.set(""),Bt.set(!1),st.set([]),rt.set([]),qt.set([]),Te.set([]),De.set([])}function f(i){ee.call(this,r,i)}function _(i){ee.call(this,r,i)}function c(i){ee.call(this,r,i)}return[t,l,o,a,u,f,_,c]}class eo extends Ve{constructor(e){super(),Me(this,e,xn,Xn,Pe,{})}}const{window:gs}=lr;function As(r,e,s){const t=r.slice();return t[27]=e[s],t}function ws(r,e,s){const t=r.slice();return t[30]=e[s],t}function ys(r,e,s){const t=r.slice();return t[27]=e[s],t}function bs(r,e,s){const t=r.slice();return t[30]=e[s],t}function Es(r){let e,s;return e=new kn({}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function Is(r){let e,s;return e=new Mn({}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function Ns(r){let e,s;return e=new Ur({}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function Ss(r){let e,s;return e=new qr({}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function js(r){let e,s;return e=new Br({}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function Ts(r){let e,s;return e=new Sr({}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function to(r){let e,s,t,l;const o=[oo,no,ro,so],a=[];function u(f,_){return f[8].length>0&&f[9].length>0?0:f[8].length>0&&f[9].length<1?1:f[9].length>0&&f[8].length<1?2:f[8].length===0&&f[9].length===0?3:-1}return~(e=u(r))&&(s=a[e]=o[e](r)),{c(){s&&s.c(),t=pe()},l(f){s&&s.l(f),t=pe()},m(f,_){~e&&a[e].m(f,_),G(f,t,_),l=!0},p(f,_){let c=e;e=u(f),e===c?~e&&a[e].p(f,_):(s&&(Ce(),se(a[c],1,1,()=>{a[c]=null}),Fe()),~e?(s=a[e],s?s.p(f,_):(s=a[e]=o[e](f),s.c()),W(s,1),s.m(t.parentNode,t)):s=null)},i(f){l||(W(s),l=!0)},o(f){se(s),l=!1},d(f){~e&&a[e].d(f),f&&p(t)}}}function lo(r){let e,s;return e=new Ln({}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},p:fe,i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function so(r){let e,s=r[0].url.pathname&&Ds(r);return{c(){s&&s.c(),e=pe()},l(t){s&&s.l(t),e=pe()},m(t,l){s&&s.m(t,l),G(t,e,l)},p(t,l){t[0].url.pathname?s?s.p(t,l):(s=Ds(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:fe,o:fe,d(t){s&&s.d(t),t&&p(e)}}}function ro(r){let e,s,t=r[9],l=[];for(let a=0;a<t.length;a+=1)l[a]=Cs(As(r,t,a));const o=a=>se(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=pe()},l(a){for(let u=0;u<l.length;u+=1)l[u].l(a);e=pe()},m(a,u){for(let f=0;f<l.length;f+=1)l[f].m(a,u);G(a,e,u),s=!0},p(a,u){if(u[0]&512){t=a[9];let f;for(f=0;f<t.length;f+=1){const _=As(a,t,f);l[f]?(l[f].p(_,u),W(l[f],1)):(l[f]=Cs(_),l[f].c(),W(l[f],1),l[f].m(e.parentNode,e))}for(Ce(),f=t.length;f<l.length;f+=1)o(f);Fe()}},i(a){if(!s){for(let u=0;u<t.length;u+=1)W(l[u]);s=!0}},o(a){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)se(l[u]);s=!1},d(a){Ze(l,a),a&&p(e)}}}function no(r){let e,s,t=r[8],l=[];for(let a=0;a<t.length;a+=1)l[a]=Fs(ws(r,t,a));const o=a=>se(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=pe()},l(a){for(let u=0;u<l.length;u+=1)l[u].l(a);e=pe()},m(a,u){for(let f=0;f<l.length;f+=1)l[f].m(a,u);G(a,e,u),s=!0},p(a,u){if(u[0]&256){t=a[8];let f;for(f=0;f<t.length;f+=1){const _=ws(a,t,f);l[f]?(l[f].p(_,u),W(l[f],1)):(l[f]=Fs(_),l[f].c(),W(l[f],1),l[f].m(e.parentNode,e))}for(Ce(),f=t.length;f<l.length;f+=1)o(f);Fe()}},i(a){if(!s){for(let u=0;u<t.length;u+=1)W(l[u]);s=!0}},o(a){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)se(l[u]);s=!1},d(a){Ze(l,a),a&&p(e)}}}function oo(r){let e,s,t,l=r[8],o=[];for(let c=0;c<l.length;c+=1)o[c]=Vs(bs(r,l,c));const a=c=>se(o[c],1,1,()=>{o[c]=null});let u=r[9],f=[];for(let c=0;c<u.length;c+=1)f[c]=Ms(ys(r,u,c));const _=c=>se(f[c],1,1,()=>{f[c]=null});return{c(){for(let c=0;c<o.length;c+=1)o[c].c();e=L();for(let c=0;c<f.length;c+=1)f[c].c();s=pe()},l(c){for(let i=0;i<o.length;i+=1)o[i].l(c);e=B(c);for(let i=0;i<f.length;i+=1)f[i].l(c);s=pe()},m(c,i){for(let d=0;d<o.length;d+=1)o[d].m(c,i);G(c,e,i);for(let d=0;d<f.length;d+=1)f[d].m(c,i);G(c,s,i),t=!0},p(c,i){if(i[0]&256){l=c[8];let d;for(d=0;d<l.length;d+=1){const v=bs(c,l,d);o[d]?(o[d].p(v,i),W(o[d],1)):(o[d]=Vs(v),o[d].c(),W(o[d],1),o[d].m(e.parentNode,e))}for(Ce(),d=l.length;d<o.length;d+=1)a(d);Fe()}if(i[0]&512){u=c[9];let d;for(d=0;d<u.length;d+=1){const v=ys(c,u,d);f[d]?(f[d].p(v,i),W(f[d],1)):(f[d]=Ms(v),f[d].c(),W(f[d],1),f[d].m(s.parentNode,s))}for(Ce(),d=u.length;d<f.length;d+=1)_(d);Fe()}},i(c){if(!t){for(let i=0;i<l.length;i+=1)W(o[i]);for(let i=0;i<u.length;i+=1)W(f[i]);t=!0}},o(c){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)se(o[i]);f=f.filter(Boolean);for(let i=0;i<f.length;i+=1)se(f[i]);t=!1},d(c){Ze(o,c),c&&p(e),Ze(f,c),c&&p(s)}}}function Ds(r){let e;function s(o,a){return o[0].url.pathname==="/appv1/my_links/recycle_bin"?ao:io}let t=s(r),l=t(r);return{c(){e=A("div"),l.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var a=m(e);l.l(a),a.forEach(p),this.h()},h(){n(e,"class","no_items_container svelte-1a5x6dk")},m(o,a){G(o,e,a),l.m(e,null)},p(o,a){t===(t=s(o))&&l?l.p(o,a):(l.d(1),l=t(o),l&&(l.c(),l.m(e,null)))},d(o){o&&p(e),l.d()}}}function io(r){let e,s,t,l,o,a,u,f,_;return{c(){e=A("div"),s=A("div"),t=ne("svg"),l=ne("path"),o=L(),a=A("span"),u=Z("Click to add link or create folder"),this.h()},l(c){e=w(c,"DIV",{class:!0,id:!0});var i=m(e);s=w(i,"DIV",{class:!0});var d=m(s);t=oe(d,"svg",{width:!0,height:!0,"stroke-width":!0,viewBox:!0,fill:!0,xmlns:!0,color:!0});var v=m(t);l=oe(v,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0}),m(l).forEach(p),v.forEach(p),d.forEach(p),o=B(i),a=w(i,"SPAN",{class:!0});var k=m(a);u=X(k,"Click to add link or create folder"),k.forEach(p),i.forEach(p),this.h()},h(){n(l,"d","M6 12h6m6 0h-6m0 0V6m0 6v6"),n(l,"stroke","#000000"),n(l,"stroke-width","1.5"),n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"class","svelte-1a5x6dk"),n(t,"width","24px"),n(t,"height","24px"),n(t,"stroke-width","1.5"),n(t,"viewBox","0 0 24 24"),n(t,"fill","none"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"color","#000000"),n(s,"class","plus_icon svelte-1a5x6dk"),n(a,"class","svelte-1a5x6dk"),n(e,"class","button svelte-1a5x6dk"),n(e,"id","addLinkOrCreateFolderBtn")},m(c,i){G(c,e,i),h(e,s),h(s,t),h(t,l),h(e,o),h(e,a),h(a,u),f||(_=[F(e,"click",Y(x(r[12]))),F(e,"keyup",r[17])],f=!0)},p:fe,d(c){c&&p(e),f=!1,ye(_)}}}function ao(r){let e,s;return{c(){e=A("span"),s=Z("No items in trash"),this.h()},l(t){e=w(t,"SPAN",{class:!0});var l=m(e);s=X(l,"No items in trash"),l.forEach(p),this.h()},h(){n(e,"class","svelte-1a5x6dk")},m(t,l){G(t,e,l),h(e,s)},p:fe,d(t){t&&p(e)}}}function Cs(r){let e,s;return e=new $t({props:{link:r[27]}}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},p(t,l){const o={};l[0]&512&&(o.link=t[27]),e.$set(o)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function Fs(r){let e,s;return e=new Ut({props:{folder:r[30]}}),e.$on("click",r[20]),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},p(t,l){const o={};l[0]&256&&(o.folder=t[30]),e.$set(o)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function Vs(r){let e,s;return e=new Ut({props:{folder:r[30]}}),e.$on("click",r[19]),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},p(t,l){const o={};l[0]&256&&(o.folder=t[30]),e.$set(o)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function Ms(r){let e,s;return e=new $t({props:{link:r[27]}}),{c(){Ee(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,l){Ne(e,t,l),s=!0},p(t,l){const o={};l[0]&512&&(o.link=t[27]),e.$set(o)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){se(e.$$.fragment,t),s=!1},d(t){Se(e,t)}}}function co(r){let e,s,t,l,o,a,u,f,_,c,i,d,v,k,y,b,g,E,N,I,T,S,V,z,J,C,M,U,j,H,K,$=r[1]&&Es(),R=r[2]&&Is(),P=r[3]&&Ns(),q=r[4]&&Ss(),le=r[5]&&js(),O=r[6]&&Ts();u=new Jn({}),_=new Gn({}),i=new $n({}),v=new eo({}),y=new Tn({}),T=new wr({}),V=new on({}),V.$on("click",r[18]);const re=[lo,to],ue=[];function ve(D,Q){return D[7]?0:D[7]?-1:1}~(C=ve(r))&&(M=ue[C]=re[C](r));const _e=r[15].default,ae=Zs(_e,r,r[14],null);return{c(){$&&$.c(),e=L(),R&&R.c(),s=L(),P&&P.c(),t=L(),q&&q.c(),l=L(),le&&le.c(),o=L(),O&&O.c(),a=L(),Ee(u.$$.fragment),f=L(),Ee(_.$$.fragment),c=L(),Ee(i.$$.fragment),d=L(),Ee(v.$$.fragment),k=L(),Ee(y.$$.fragment),b=L(),g=A("div"),E=A("script"),N=Z(`"use strict";
const s = window.localStorage.getItem('session');
if (s === null) {
    location.replace('http://localhost:5173/accounts/sign_in');
}
else {
    checkIfIsAuthenticated();
    async function checkIfIsAuthenticated() {
        const response = await fetch('http://localhost:5000/public/checkIfIsAuthenticated', {
            method: 'POST',
            mode: 'cors',
            cache: 'no-cache',
            credentials: 'omit',
            headers: {
                'Content-Type': 'application/json'
                //authorization: \`Bearer\${JSON.parse(s).access_token}\`
                // 'Content-Type': 'application/x-www-form-urlencoded',
            },
            redirect: 'follow',
            referrerPolicy: 'no-referrer',
            body: JSON.stringify({
                token: JSON.parse(s).access_token
            }) // body data type must match "Content-Type" header
        });
        const result = await response.json();
        if (result.message) {
            if (result.message === 'account not found') {
                console.log(result.message);
                alert(result.message);
                location.replace('http://localhost:5173/accounts/sign_in');
            }
            else if (result.message === 'false') {
                console.log(result.message);
                alert(result.message);
                location.replace('http://localhost:5173/accounts/sign_in');
            }
            else if (result.message === 'token is expired') {
                console.log(result.message);
                alert(result.message);
                location.replace('http://localhost:5173/accounts/sign_in');
            }
        }
    }
}`),I=L(),Ee(T.$$.fragment),S=L(),Ee(V.$$.fragment),z=L(),J=A("div"),M&&M.c(),U=L(),ae&&ae.c(),this.h()},l(D){$&&$.l(D),e=B(D),R&&R.l(D),s=B(D),P&&P.l(D),t=B(D),q&&q.l(D),l=B(D),le&&le.l(D),o=B(D),O&&O.l(D),a=B(D),Ie(u.$$.fragment,D),f=B(D),Ie(_.$$.fragment,D),c=B(D),Ie(i.$$.fragment,D),d=B(D),Ie(v.$$.fragment,D),k=B(D),Ie(y.$$.fragment,D),b=B(D),g=w(D,"DIV",{class:!0});var Q=m(g);E=w(Q,"SCRIPT",{lang:!0});var ie=m(E);N=X(ie,`"use strict";
const s = window.localStorage.getItem('session');
if (s === null) {
    location.replace('http://localhost:5173/accounts/sign_in');
}
else {
    checkIfIsAuthenticated();
    async function checkIfIsAuthenticated() {
        const response = await fetch('http://localhost:5000/public/checkIfIsAuthenticated', {
            method: 'POST',
            mode: 'cors',
            cache: 'no-cache',
            credentials: 'omit',
            headers: {
                'Content-Type': 'application/json'
                //authorization: \`Bearer\${JSON.parse(s).access_token}\`
                // 'Content-Type': 'application/x-www-form-urlencoded',
            },
            redirect: 'follow',
            referrerPolicy: 'no-referrer',
            body: JSON.stringify({
                token: JSON.parse(s).access_token
            }) // body data type must match "Content-Type" header
        });
        const result = await response.json();
        if (result.message) {
            if (result.message === 'account not found') {
                console.log(result.message);
                alert(result.message);
                location.replace('http://localhost:5173/accounts/sign_in');
            }
            else if (result.message === 'false') {
                console.log(result.message);
                alert(result.message);
                location.replace('http://localhost:5173/accounts/sign_in');
            }
            else if (result.message === 'token is expired') {
                console.log(result.message);
                alert(result.message);
                location.replace('http://localhost:5173/accounts/sign_in');
            }
        }
    }
}`),ie.forEach(p),I=B(Q),Ie(T.$$.fragment,Q),S=B(Q),Ie(V.$$.fragment,Q),z=B(Q),J=w(Q,"DIV",{class:!0,id:!0});var ke=m(J);M&&M.l(ke),ke.forEach(p),U=B(Q),ae&&ae.l(Q),Q.forEach(p),this.h()},h(){n(E,"lang","ts"),n(J,"class","links svelte-1a5x6dk"),n(J,"id","links"),n(g,"class","container svelte-1a5x6dk")},m(D,Q){$&&$.m(D,Q),G(D,e,Q),R&&R.m(D,Q),G(D,s,Q),P&&P.m(D,Q),G(D,t,Q),q&&q.m(D,Q),G(D,l,Q),le&&le.m(D,Q),G(D,o,Q),O&&O.m(D,Q),G(D,a,Q),Ne(u,D,Q),G(D,f,Q),Ne(_,D,Q),G(D,c,Q),Ne(i,D,Q),G(D,d,Q),Ne(v,D,Q),G(D,k,Q),Ne(y,D,Q),G(D,b,Q),G(D,g,Q),h(g,E),h(E,N),h(g,I),Ne(T,g,null),h(g,S),Ne(V,g,null),h(g,z),h(g,J),~C&&ue[C].m(J,null),h(g,U),ae&&ae.m(g,null),j=!0,H||(K=[F(gs,"keydown",r[10]),F(gs,"keyup",r[11]),F(J,"contextmenu",Y(x(r[13]))),F(J,"keyup",r[16])],H=!0)},p(D,Q){D[1]?$?Q[0]&2&&W($,1):($=Es(),$.c(),W($,1),$.m(e.parentNode,e)):$&&(Ce(),se($,1,1,()=>{$=null}),Fe()),D[2]?R?Q[0]&4&&W(R,1):(R=Is(),R.c(),W(R,1),R.m(s.parentNode,s)):R&&(Ce(),se(R,1,1,()=>{R=null}),Fe()),D[3]?P?Q[0]&8&&W(P,1):(P=Ns(),P.c(),W(P,1),P.m(t.parentNode,t)):P&&(Ce(),se(P,1,1,()=>{P=null}),Fe()),D[4]?q?Q[0]&16&&W(q,1):(q=Ss(),q.c(),W(q,1),q.m(l.parentNode,l)):q&&(Ce(),se(q,1,1,()=>{q=null}),Fe()),D[5]?le?Q[0]&32&&W(le,1):(le=js(),le.c(),W(le,1),le.m(o.parentNode,o)):le&&(Ce(),se(le,1,1,()=>{le=null}),Fe()),D[6]?O?Q[0]&64&&W(O,1):(O=Ts(),O.c(),W(O,1),O.m(a.parentNode,a)):O&&(Ce(),se(O,1,1,()=>{O=null}),Fe());let ie=C;C=ve(D),C===ie?~C&&ue[C].p(D,Q):(M&&(Ce(),se(ue[ie],1,1,()=>{ue[ie]=null}),Fe()),~C?(M=ue[C],M?M.p(D,Q):(M=ue[C]=re[C](D),M.c()),W(M,1),M.m(J,null)):M=null),ae&&ae.p&&(!j||Q[0]&16384)&&Xs(ae,_e,D,D[14],j?er(_e,D[14],Q,null):xs(D[14]),null)},i(D){j||(W($),W(R),W(P),W(q),W(le),W(O),W(u.$$.fragment,D),W(_.$$.fragment,D),W(i.$$.fragment,D),W(v.$$.fragment,D),W(y.$$.fragment,D),W(T.$$.fragment,D),W(V.$$.fragment,D),W(M),W(ae,D),j=!0)},o(D){se($),se(R),se(P),se(q),se(le),se(O),se(u.$$.fragment,D),se(_.$$.fragment,D),se(i.$$.fragment,D),se(v.$$.fragment,D),se(y.$$.fragment,D),se(T.$$.fragment,D),se(V.$$.fragment,D),se(M),se(ae,D),j=!1},d(D){$&&$.d(D),D&&p(e),R&&R.d(D),D&&p(s),P&&P.d(D),D&&p(t),q&&q.d(D),D&&p(l),le&&le.d(D),D&&p(o),O&&O.d(D),D&&p(a),Se(u,D),D&&p(f),Se(_,D),D&&p(c),Se(i,D),D&&p(d),Se(v,D),D&&p(k),Se(y,D),D&&p(b),D&&p(g),Se(T),Se(V),~C&&ue[C].d(),ae&&ae.d(D),H=!1,ye(K)}}}function uo(r,e,s){let t,l,o,a,u,f,_,c,i,d;te(r,Re,j=>s(0,t=j)),te(r,At,j=>s(1,l=j)),te(r,Ht,j=>s(2,o=j)),te(r,hl,j=>s(3,a=j)),te(r,Jt,j=>s(4,u=j)),te(r,dt,j=>s(5,f=j)),te(r,nl,j=>s(6,_=j)),te(r,ct,j=>s(7,c=j)),te(r,Ae,j=>s(8,i=j)),te(r,je,j=>s(9,d=j));let{$$slots:v={},$$scope:k}=e,y;Ls(async()=>{pr(),await Bn(),N(),E()}),tr(()=>{b()});function b(){y=document.getElementById("addLinkOrCreateFolderBtn"),y&&y.classList.add("animate__animated","animate__bounceIn")}Ps(()=>{g()});function g(){N()}function E(){he()!==null&&ar.set(JSON.parse(he()).Account.id)}function N(){t.params.folder_id===void 0?al.set(""):al.set(t.params.folder_id)}function I(j){j.ctrlKey&&Rt.set(!0)}function T(j){(j.code==="ControlLeft"||j.code==="ControlRight")&&Rt.set(!1)}function S(j){var H;ft(),wl(),y=(H=window.event)==null?void 0:H.currentTarget,y=y.closest(".links"),ut.set(y),zt(j)}function V(j){wl(),ft(),vr(),zt(j)}function z(j){ee.call(this,r,j)}function J(j){ee.call(this,r,j)}function C(j){ee.call(this,r,j)}function M(j){ee.call(this,r,j)}function U(j){ee.call(this,r,j)}return r.$$set=j=>{"$$scope"in j&&s(14,k=j.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&1&&(t.url.pathname==="/appv1/my_links"?mt.set("My links"):t.url.pathname==="/appv1/my_links/recycle_bin"&&mt.set("Recycle bin"))},[t,l,o,a,u,f,_,c,i,d,I,T,S,V,k,v,z,J,C,M,U]}class Ao extends Ve{constructor(e){super(),Me(this,e,uo,co,Pe,{},null,[-1,-1])}}export{Ao as default};
